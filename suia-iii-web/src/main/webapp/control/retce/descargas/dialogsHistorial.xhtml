<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"	
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:mae="http://java.sun.com/jsf/composite/mae-composite"
	xmlns:mae-composite="http://java.sun.com/jsf/composite/mae-composite">	
		<p:dialog id="caracteristicasDiagHistorial" widgetVar="caracteristicasDiagHistorial" header="Historial Características de Medición" width="1100px" closable="false">
			<p:dataTable value="#{descargasLiquidasController.descargasListHistorico}" var="item" emptyMessage="#{labels['common.table.empty']}"
				paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" currentPageReportTemplate="{currentPage} de {totalPages}" rows="25"
				rendered="#{descargasLiquidasController.descargasLiquidas.tieneHistorial}">	
				<p:column headerText="Fecha Modificación">
					<h:outputText value="#{item.fechaModificacion==null?item.fechaCreacion:item.fechaModificacion}">
						<f:convertDateTime pattern="dd/MMM/yyyy"/>
					</h:outputText>
				</p:column>
				<p:column headerText="Frecuencia de monitoreo">
					<h:outputText value="#{item.catalogoFrecuenciaMonitoreo.descripcion}"/>						
				</p:column>
				<p:column headerText="Periodo de medición (desde)">
					<h:outputText value="#{item.fechaInicioMonitoreo}"/>						
				</p:column>
				<p:column headerText="Periodo de medición (Hasta)">
					<h:outputText value="#{item.fechaFinMonitoreo}"/>	
				</p:column>				
			</p:dataTable>
		
			<p:dataTable value="#{descargasLiquidasController.detalleDescargasListHistorico}" var="item" emptyMessage="#{labels['common.table.empty']}"
				paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" currentPageReportTemplate="{currentPage} de {totalPages}" rows="25"
				rendered="#{descargasLiquidasController.detalleDescargasLiquidas.tieneHistorial}">	
				<p:column headerText="Fecha Modificación">
					<h:outputText value="#{item.fechaModificacion==null?item.fechaCreacion:item.fechaModificacion}">
						<f:convertDateTime pattern="dd/MMM/yyyy"/>
					</h:outputText>
				</p:column>
				<p:column headerText="Código punto monitoreo">
					<h:outputText value="#{item.codigoPuntoMonitoreo}"/>						
				</p:column>
				<p:column headerText="Número de identificación del punto de monitoreo">
					<h:outputText value="#{item.numeroPuntoMonitoreo}"/>						
				</p:column>
				<p:column headerText="Nombre del lugar del punto de muestreo">
					<h:outputText value="#{item.lugarPuntoMonitoreo}"/>	
				</p:column>
				<p:column headerText="Coord X">
					<h:outputText value="#{item.coordenadaX}"/>	
				</p:column>	
				<p:column headerText="Coord Y">
					<h:outputText value="#{item.coordenadaY}"/>	
				</p:column>
				<p:column headerText="Tipo de cuerpo receptor">
					<h:outputText value="#{item.catalogoTipoCuerpoReceptorCaracteristicasPunto.catalogoTipoCuerpoReceptor.descripcion}"/>	
				</p:column>
				<p:column headerText="Tipo de descarga">
					<h:outputText value="#{item.catalogoTipoDescarga.descripcion}"/>	
				</p:column>					
				<p:column headerText="Tipo de aguas">
					<h:outputText value="#{item.catalogoTratamientoAguas.descripcion}"/>	
				</p:column>	
				<p:column headerText="Tipo de muestra">
					<h:outputText value="#{item.tipoMuestra.descripcion}"/>	
				</p:column>
				<p:column headerText="Caudal medido durante el muestreo">
					<h:outputText value="#{item.caudalMedido}"/>	
				</p:column>
				<p:column headerText="Volumen de descarga">
					<h:outputText value="#{item.volumenDescarga}"/>	
				</p:column>
				<p:column headerText="Horas de descarga al día">
					<h:outputText value="#{item.horasDescargaDia}"/>	
				</p:column>
				<p:column headerText="Características del punto de monitoreo">
					<h:outputText value="#{item.caracteristicasPuntoMonitoreo.descripcion}"/>	
				</p:column>	
						
			</p:dataTable>
			<t:div styleClass="buttons">
				<p:commandButton icon="ui-icon-cancel" value="#{msg['button.cerrar']}" process="@this" oncomplete="PF('caracteristicasDiagHistorial').hide()" styleClass="secondary"/>
			</t:div>
		</p:dialog>	
		
		<p:dialog id="datoObtenidoDiagHistorial" widgetVar="datoObtenidoDiagHistorial" header="Historial Dato Obtenido" width="900px" closable="false">
			<p:dataTable value="#{descargasLiquidasController.datosObtenidoListHistorico}" var="item" emptyMessage="#{labels['common.table.empty']}"
				paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" currentPageReportTemplate="{currentPage} de {totalPages}" rows="25">	
				<p:column headerText="Fecha Modificación">
					<h:outputText value="#{item.fechaModificacion==null?item.fechaCreacion:item.fechaModificacion}">
						<f:convertDateTime pattern="dd/MMM/yyyy"/>
					</h:outputText>
				</p:column>	
				<p:column headerText="Parámetro ">
					<h:outputText value="#{item.parametrosTablas.parametro.nombre}"/>
				</p:column>						
				<p:column headerText="Unidad ">
					<h:outputText value="#{item.parametrosTablas.parametro.unidad}"/>
				</p:column>
				<p:column headerText="Límite Maximo permisible" rendered="false">
					<h:outputText value="#{item.parametrosTablas.limiteMaximoPermisible}"/>
				</p:column>
				<p:column headerText="Destino de descarga" rendered="#{itemTabla.mostarDestinoDescarga}">
					<h:outputText value="#{item.parametrosTablas.destinoDescarga}"/>
				</p:column>
				<p:column headerText="Aplicación" rendered="#{itemTabla.mostarAplicacion}">
					<h:outputText value="#{item.parametrosTablas.aplicacion}"/>
				</p:column>
				<p:column headerText="Método de estimación">
					<h:outputText value="#{item.metodoEstimacion.descripcion}"/>
				</p:column>
				<p:column headerText="Reporte">
					<h:outputText value="#{item.valorIngresado}"/>
				</p:column>
			</p:dataTable>
			<t:div styleClass="buttons">
				<p:commandButton icon="ui-icon-cancel" value="#{msg['button.cerrar']}" process="@this" oncomplete="PF('datoObtenidoDiagHistorial').hide()" styleClass="secondary"/>
			</t:div>
		</p:dialog>		
		
		<p:dialog id="datolaboratorioDiagHistorial" widgetVar="datolaboratorioDiagHistorial" header="Historial Laboratorio" width="900px" closable="false">
			<p:dataTable value="#{descargasLiquidasController.datosLaboratorioListHistorico}" var="item" emptyMessage="#{labels['common.table.empty']}"
				paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" currentPageReportTemplate="{currentPage} de {totalPages}" rows="25">	
				<p:column headerText="Fecha Modificación">
					<h:outputText value="#{item.fechaModificacion==null?item.fechaCreacion:item.fechaModificacion}">
						<f:convertDateTime pattern="dd/MMM/yyyy"/>
					</h:outputText>
				</p:column>	
				<p:column headerText="RUC">
					<h:outputText value="#{item.ruc}"/>
				</p:column>
				<p:column headerText="Nombre o razón social">
					<h:outputText value="#{item.nombre}"/>
				</p:column>
				<p:column headerText="N° de Registro de SAE">
					<h:outputText value="#{item.numeroRegistroSAE}"/>
				</p:column>
				<p:column headerText="Vigencia del Registro">
					<h:outputText value="#{item.fechaVigenciaRegistro}">
						<f:convertDateTime pattern="dd/MM/yyyy"/>
					</h:outputText>
				</p:column>
			</p:dataTable>
			<t:div styleClass="buttons">
				<p:commandButton icon="ui-icon-cancel" value="#{msg['button.cerrar']}" process="@this" oncomplete="PF('datolaboratorioDiagHistorial').hide()" styleClass="secondary"/>
			</t:div>
		</p:dialog>	
		
		<p:dialog id="sustanciasDiagHistorial" widgetVar="sustanciasDiagHistorial" header="Historial Sustancia" width="900px" closable="false">
			<p:dataTable value="#{descargasLiquidasController.sustanciasListHistorico}" var="item" emptyMessage="#{labels['common.table.empty']}"
				paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" currentPageReportTemplate="{currentPage} de {totalPages}" rows="25">	
				<p:column headerText="Fecha Modificación">
					<h:outputText value="#{item.fechaModificacion==null?item.fechaCreacion:item.fechaModificacion}">
						<f:convertDateTime pattern="dd/MMM/yyyy"/>
					</h:outputText>
				</p:column>	
				<p:column headerText="Código del punto de monitoreo aprobado">
					<h:outputText value="#{item.detalleDescargasLiquidas.codigoPuntoMonitoreo}"/>
				</p:column>
				<p:column headerText="Tipo de cuerpo receptor">
					<h:outputText value="#{item.detalleDescargasLiquidas.catalogoTipoCuerpoReceptor.descripcion}"/>
				</p:column>
				<p:column headerText="Nombre del contaminante">
					<h:outputText value="#{item.catologSustanciasRetce.descripcionProductoQuimico}"/>
				</p:column>
				<p:column headerText="Reporte (ton/año)">
					<h:outputText value="#{item.reporteToneladaAnio}"/>
				</p:column>
				<p:column headerText="Método de estimación">
					<h:outputText value="#{item.catalogoMetodoEstimacion.descripcion}"/>
				</p:column>											
			</p:dataTable>
			<t:div styleClass="buttons">
				<p:commandButton icon="ui-icon-cancel" value="#{msg['button.cerrar']}" process="@this" oncomplete="PF('sustanciasDiagHistorial').hide()" styleClass="secondary"/>
			</t:div>
		</p:dialog>	
		
		<p:dialog id="tecnicoDiagHistorial" widgetVar="tecnicoDiagHistorial" header="Historial Sustancia" width="900px" closable="false">
			<p:dataTable value="#{descargasLiquidasController.tecnicosListHistorico}" var="item" emptyMessage="#{labels['common.table.empty']}"
				paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" currentPageReportTemplate="{currentPage} de {totalPages}" rows="25">	
				<p:column headerText="Fecha Modificación">
					<h:outputText value="#{item.fechaModificacion==null?item.fechaCreacion:item.fechaModificacion}">
						<f:convertDateTime pattern="dd/MMM/yyyy"/>
					</h:outputText>
				</p:column>	
				<p:column headerText="Cédula / RUC *">
					<h:outputText value="#{item.identificador}"/>
				</p:column>
				<p:column headerText="Nombre / Razón Social">
					<h:outputText value="#{item.nombre}"/>
				</p:column>
				<p:column headerText="Correo electrónico">
					<h:outputText value="#{item.correo}"/>
				</p:column>
				<p:column headerText="Teléfono">
					<h:outputText value="#{item.telefono}"/>
				</p:column>
				<p:column headerText="Celular">
					<h:outputText value="#{item.celular}"/>
				</p:column>											
			</p:dataTable>
			<t:div styleClass="buttons">
				<p:commandButton icon="ui-icon-cancel" value="#{msg['button.cerrar']}" process="@this" oncomplete="PF('tecnicoDiagHistorial').hide()" styleClass="secondary"/>
			</t:div>
		</p:dialog>		
</html>
