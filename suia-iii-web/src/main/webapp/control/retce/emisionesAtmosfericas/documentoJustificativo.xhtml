<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:mae="http://java.sun.com/jsf/composite/mae-composite"
	xmlns:mae-components="http://ec.gob.ambiente/mae-components"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<p:panelGrid columns="1" layout="grid" styleClass="w100" id="ingresoDocumentoJustificativo">	
				<f:facet name="header">
				<h:outputText value="Adjuntar una acción correctiva" />
				</f:facet>
				<p:outputPanel id="subirDocJustificativo">
					<p:fileUpload id="fileJustificativo"
						fileUploadListener="#{emisionesAtmosfericasController.uploadListenerDocumentoJustificativo}"
						sizeLimit="20971520" allowTypes="/(\.|\/)(pdf)$/"
						label="Seleccionar (pdf 20Mb)" 
						uploadLabel="Subir"
						invalidFileMessage="Tipo de archivo no válido"
						invalidSizeMessage="Debe adjuntar un archivo no mayor de 20 Mb."
						cancelLabel="Cancelar" mode="advanced" 
						update=":form:nombreJustificativo :form:fileDownload" 
						auto="true"
						styleClass="w100 toLeft" 
						/>
				<p:outputLabel id="nombreJustificativo" value="#{emisionesAtmosfericasController.documentoJustificativo.nombre}" styleClass="w100 toRight"/>
				</p:outputPanel>
				<p:panelGrid>
				<p:commandButton id="fileDownload"
							icon="ui-icon-arrowthickstop-1-s" styleClass="primary"
							ajax="false" process="@this" title="Descargar"
							rendered="#{emisionesAtmosfericasController.documentoJustificativo.contenidoDocumento eq null ? false : true}">
							<p:fileDownload
								value="#{emisionesAtmosfericasController.getDocumentoInformeLaboratorioDownload(emisionesAtmosfericasController.documentoJustificativo)}" />
						</p:commandButton>
				</p:panelGrid>
</p:panelGrid>
</html>
