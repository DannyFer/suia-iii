
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default-task.xhtml"
	xmlns:mae-components="http://ec.gob.ambiente/mae-components"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:mae="http://java.sun.com/jsf/composite/mae-composite"
	xmlns:control="http://java.sun.com/jsf/composite/controles-prime">
	<ui:define name="context-extra">
		<h:outputText>Datos</h:outputText>

		<h:outputText>Informe Técnico</h:outputText>
		<p:commandButton icon="ui-icon-search" onclick="PF('dlg2').show();" />
		<p:dialog header="Informe Técnico" widgetVar="dlg2" modal="true"
			height="400">
			<mae-components:readOnly>
				<ui:include src="tdrVistaPrevia.xhtml" />
			</mae-components:readOnly>
		</p:dialog>
	</ui:define>
	<ui:define name="content">
		<f:loadBundle var="helps"
			basename="ec.gob.ambiente.core.resources.helps_es" />
		<f:loadBundle var="msg"
			basename="ec.gob.ambiente.core.resources.messages_es" />
		<h:form>
			<h3>Elaborar informe técnico</h3>
			<p:panelGrid columns="4" layout="grid" styleClass="w100 alCenter">
				<f:facet name="header">
					<mae:panelGridHeaderHelp value="#{msg['label.facilitadores']}"
						conector="actividadHelp"
						help="#{helps['registro.numeroFacilitadores']}" />
				</f:facet>

				<p:outputLabel value="#{msg['label.nroFacilitadores']}" for="facilitador"/>
				<h:panelGroup>
					<p:inputText
						value="#{elaborarInformeBean.tdrEia.numeroFacilitadores}" id="facilitador">
						<f:validateDoubleRange minimum="1" maximum="9" />
						<pe:keyFilter mask="num" />
					</p:inputText>
				</h:panelGroup>
				<h:outputText />
				<h:outputText />
			</p:panelGrid>

			<h:outputLabel for="opcion"
				value="Seleccione si cumple con los criterios tecnicos y legales." />
			<p:selectOneRadio id="opcion"
				requiredMessage="Debe seleccionar una opción si cumple con los criterios tecnicos y legales."
				value="#{elaborarInformeBean.tdrInformeTecnico.tipo}"
				required="true">
				<f:selectItem itemLabel="Si" itemValue="aprobacion" />
				<f:selectItem itemLabel="No" itemValue="observacion" />
			</p:selectOneRadio>

			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.antecedentes']}"
						for="antecedentes" />
				</f:facet>

				<control:imputConTextoEnriquecido id="antecedentes"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.antecedentes']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.antecedente}"
					requerido="true" />
			</p:panelGrid>

			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.evaluacionTecnica']}"
						for="evaluacionTecnica" />
				</f:facet>

				<control:imputConTextoEnriquecido id="evaluacionTecnica"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.evaluacionTecnica']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.evaluacionTecnica}"
					requerido="true" />
			</p:panelGrid>


			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.caracteristicasImportantesProyecto']}"
						for="caracteristicasImportantesProyecto" />
				</f:facet>

				<control:imputConTextoEnriquecido
					id="caracteristicasImportantesProyecto"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.caracteristicasImportantesProyecto']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.caracteristicasImportantesProyecto}"
					requerido="true" />
			</p:panelGrid>
			
			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.componenteAmbinetal']}"
						for="componenteAmbinetal" />
				</f:facet>
				
				<control:imputConTextoEnriquecido id="componenteAmbinetal"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.componenteAmbinetal']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.componenteAmbinetal}"
					requerido="true" />
			</p:panelGrid>


			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.componenteBiotico']}"
						for="componenteBiotico" />
				</f:facet>

				<control:imputConTextoEnriquecido id="componenteBiotico"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.componenteBiotico']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.componenteBiotico}"
					requerido="true" />
			</p:panelGrid>



			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText value="#{msg['label.prevencion.tdr.justifique']}"
						for="componenteSocial" />
				</f:facet>

				<control:imputConTextoEnriquecido id="componenteSocial"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.justifique']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.componenteSocial}"
					requerido="true" />
			</p:panelGrid>



			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding" rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.componenteCartografico']}"
						for="componenteCartografico" />
				</f:facet>

				<control:imputConTextoEnriquecido id="componenteCartografico"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.componenteCartografico']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.componenteCartografico}"
					requerido="true" />
			</p:panelGrid>
			
			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.direccionNacionalForestal']}"
						for="direccionNacionalForestal" />
				</f:facet>

				<control:imputConTextoEnriquecido id="direccionNacionalForestal"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.direccionNacionalForestal']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.direccionNacionalForestal}"
					requerido="true" />
			</p:panelGrid>

			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.direccionNacionalBiodiversidad']}"
						for="direccionNacionalBiodiversidad" />
				</f:facet>


				<control:imputConTextoEnriquecido
					id="direccionNacionalBiodiversidad"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.direccionNacionalBiodiversidad']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.direccionNacionalBiodiversidad}"
					requerido="true" />
			</p:panelGrid>

			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText
						value="#{msg['label.prevencion.tdr.informe.ministrerioJusticia']}"
						for="ministrerioJusticia" />
				</f:facet>


				<control:imputConTextoEnriquecido id="ministrerioJusticia"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.ministrerioJusticia']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.ministrerioJusticia}"
					requerido="true" />
			</p:panelGrid>


			<p:panelGrid columns="1" layout="grid" styleClass="w100"
				columnClasses=" contentVerticalPadding"
				rendered="true">
				<f:facet name="header">
					<h:outputText value="#{msg['label.prevencion.tdr.informe.otros']}"
						for="otros" />
				</f:facet>

				<control:imputConTextoEnriquecido id="otros"
					requiredMessage="#{msg['label.prevencion.tdr.campo']} #{msg['label.prevencion.tdr.informe.otros']} #{msg['label.prevencion.tdr.requerido']}"
					valor="#{elaborarInformeBean.tdrInformeTecnico.otros}"
					requerido="true" />
			</p:panelGrid>


			<div class="buttons main">
				<p:commandButton value="Guardar" styleClass="secondary"
					action="#{elaborarInformeController.guardarDatos()}"
					title="Guardar datos" icon="ui-icon-disk">
				</p:commandButton>
				<p:commandButton value="Enviar"
					action="#{elaborarInformeController.enviarDatos()}"
					title="Enviar datos" icon="ui-icon-check">
				</p:commandButton>
			</div>
		</h:form>


	</ui:define>
</ui:composition>
</html>