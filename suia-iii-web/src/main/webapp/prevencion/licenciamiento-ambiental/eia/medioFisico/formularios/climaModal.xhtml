<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:mae="http://java.sun.com/jsf/composite/mae-composite">

<p:dialog header="Clima" id="adicionarClima" widgetVar="adicionarClima"
          modal="true" resizable="false" width="700">
    <h:panelGroup id="panelClima">
        <p:growl widgetVar="growlWV" />
        <p:panelGrid columns="1" layout="grid" styleClass="w100">
            <f:facet name="header">
                <h:outputText value="Precipitación (mm/anual)"/>
            </f:facet>
            <h:panelGrid styleClass="w100 separatorBottom" columns="4" columnClasses="w25, field_mrg w25, field_mrg w25, field_mrg w25"  id="precipitacionContenedor">
                <p:outputLabel for="precipitacionMinimo" value="Mínimo"/>
                <p:outputLabel for="precipitacionPromedio" value="Promedio"/>
                <p:outputLabel for="precipitacionMaximo" value="Máximo"/>
                <p:outputLabel for="precipitacionFuente" value="Fuente"/>

                <p:inputText id="precipitacionMinimo" widgetVar="precipitacionMinimo" thousandSeparator=""
                             value="#{climaController.climaBean.clima.precipitacionMinima}"
                             required="true" maxlength="6">
                    <f:validateDoubleRange maximum="#{climaController.validarRango('precipitacion')}" />
                    <p:ajax process="@this precipitacionMinimo" update="precipitacionMinimo"/>
                    <pe:keyFilter mask="num"/>
                </p:inputText>

                <p:inputText id="precipitacionPromedio" widgetVar="precipitacionPromedio" thousandSeparator=""
                             value="#{climaController.climaBean.clima.precipitacionPromedio}"
                             required="true" maxlength="6" validator="#{climaController.validatePromedio}">
                    <p:ajax process="@this precipitacionPromedio" update="precipitacionPromedio"/>
                    <pe:keyFilter mask="num"/>
                </p:inputText>

                <p:inputText id="precipitacionMaximo" widgetVar="precipitacionMaximo" thousandSeparator=""
                             value="#{climaController.climaBean.clima.precipitacionMaxima}"
                             required="true" maxlength="6">
                    <pe:keyFilter mask="num"/>
                    <f:validateDoubleRange minimum="#{climaController.climaBean.clima.precipitacionMinima}"/>
                    <p:ajax process="@this precipitacionMaximo" update="precipitacionMaximo"/>
                </p:inputText>

                    <p:inputText id="precipitacionFuente" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.precipitacionFuente}"
                                 required="true" maxlength="150"/>
                </h:panelGrid>
            </p:panelGrid>

            <p:panelGrid columns="1" layout="grid" styleClass="w100">
                <f:facet name="header">
                    <h:outputText value="Temperatura Promedio (C°)"/>
                </f:facet>
                <h:panelGrid styleClass="w100 separatorBottom" columns="4" columnClasses="w25, field_mrg w25, field_mrg w25, field_mrg w25" id="temperaturaContenedor">
                    <p:outputLabel for="temperaturaMinimo" value="Mínimo"/>
                    <p:outputLabel for="temperaturaPromedio" value="Promedio"/>
                    <p:outputLabel for="temperaturaMaximo" value="Máximo"/>
                    <p:outputLabel for="temperaturaFuente" value="Fuente"/>

                    <p:inputText id="temperaturaMinimo" widgetVar="temperaturaMinimo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.temperaturaMinima}"
                                 required="true" maxlength="6">
                        <f:validateDoubleRange maximum="#{climaController.validarRango('temperatura')}" />
                        <p:ajax process="@this temperaturaMinimo" update="temperaturaMinimo" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>

                    <p:inputText id="temperaturaPromedio" widgetVar="temperaturaPromedio" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.temperaturaPromedio}"
                                 required="true" maxlength="6"  validator="#{climaController.validatePromedio}">
                        <p:ajax process="@this temperaturaPromedio" update="temperaturaPromedio"/>
                        <pe:keyFilter mask="num"/>
                    </p:inputText>
                    <p:inputText id="temperaturaMaximo" widgetVar="temperaturaMaximo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.temperaturaMaxima}"
                                 required="true" maxlength="6">
                        <f:validateDoubleRange minimum="#{climaController.climaBean.clima.temperaturaMinima}" />
                        <p:ajax process="@this temperaturaMaximo" update="temperaturaMaximo" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>

                    <p:inputText id="temperaturaFuente" widgetVar="temperaturaFuente" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.temperaturaFuente}"
                                 required="true" maxlength="150"/>
                </h:panelGrid>
            </p:panelGrid>

            <p:panelGrid columns="1" layout="grid" styleClass="w100">
                <f:facet name="header">
                    <h:outputText value="Humedad (%)"/>
                </f:facet>
                <h:panelGrid styleClass="w100 separatorBottom" columns="4" columnClasses="w25, field_mrg w25, field_mrg w25, field_mrg w25" id="humedadContenedor">
                    <p:outputLabel for="humedadMinimo" value="Mínimo"/>
                    <p:outputLabel for="humedadPromedio" value="Promedio"/>
                    <p:outputLabel for="humedadMaximo" value="Máximo"/>
                    <p:outputLabel for="humedadFuente" value="Fuente"/>
                    <p:inputText id="humedadMinimo" widgetVar="humedadMinimo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.humedadMinima}"
                                 required="true" maxlength="6">
                        <f:validateDoubleRange maximum="#{climaController.validarRango('humedad')}" />
                        <p:ajax process="@this humedadMinimo" update="humedadMinimo" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>
                    <p:inputText id="humedadPromedio" widgetVar="humedadPromedio" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.humedadPromedio}"
                                 required="true" maxlength="6"  validator="#{climaController.validatePromedio}">
                        <p:ajax process="@this humedadPromedio" update="humedadPromedio"/>
                        <pe:keyFilter mask="num"/>
                    </p:inputText>
                    <p:inputText id="humedadMaximo" widgetVar="humedadMaximo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.humedadMaxima}"
                                 required="true" maxlength="6">
                        <f:validateDoubleRange minimum="#{climaController.climaBean.clima.humedadMinima}" />
                        <p:ajax process="@this humedadMaximo" update="humedadMaximo" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>
                    <p:inputText id="humedadFuente" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.humedadFuente}"
                                 required="true" maxlength="150"/>
                </h:panelGrid>
            </p:panelGrid>

            <p:panelGrid columns="1" layout="grid" styleClass="w100">
                <f:facet name="header">
                    <h:outputText value="Velocidad del Viento (km/h)"/>
                </f:facet>
                <h:panelGrid styleClass="w100 separatorBottom" columns="4" columnClasses="w25, field_mrg w25, field_mrg w25, field_mrg w25" id="velocidadContenedor">
                    <p:outputLabel for="velocidadVientoMinimo" value="Mínimo"/>
                    <p:outputLabel for="velocidadVientoPromedio" value="Promedio"/>
                    <p:outputLabel for="velocidadVientoMaximo" value="Máximo"/>
                    <p:outputLabel for="velocidadVientoFuente" value="Fuente"/>
                    <p:inputText id="velocidadVientoMinimo" widgetVar="velocidadVientoMinimo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.velocidadVientoMinima}"
                                 required="true" maxlength="6">
                        <pe:keyFilter mask="num"/>
                        <f:validateDoubleRange maximum="#{climaController.validarRango('velocidad')}" />
                        <p:ajax process="@this velocidadVientoMinimo" update="velocidadVientoMinimo" />
                    </p:inputText>

                    <p:inputText id="velocidadVientoPromedio" widgetVar="velocidadVientoPromedio" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.velocidadVientoPromedio}"
                                 required="true" maxlength="6"  validator="#{climaController.validatePromedio}">
                        <p:ajax process="@this velocidadVientoPromedio" update="velocidadVientoPromedio" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>

                    <p:inputText id="velocidadVientoMaximo" widgetVar="velocidadVientoMaximo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.velocidadVientoMaxima}"
                                 required="true" maxlength="6">
                        <f:validateDoubleRange minimum="#{climaController.climaBean.clima.velocidadVientoMinima}" />
                        <p:ajax process="@this velocidadVientoMaximo" update="velocidadVientoMaximo" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>

                    <p:inputText id="velocidadVientoFuente" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.velocidadVientoFuente}"
                                 required="true" maxlength="150"/>
                </h:panelGrid>
            </p:panelGrid>

            <p:panelGrid columns="1" layout="grid" styleClass="w100">
                <f:facet name="header">
                    <h:outputText value="Evapotranspiración (mm/año)"/>
                </f:facet>
                <h:panelGrid styleClass="w100 separatorBottom" columns="4" columnClasses="w25, field_mrg , field_mrg w25, field_mrg w25" id="evapotranspiracionContenedor">
                    <p:outputLabel for="evapotranspiracionMinimo" value="Mínimo"/>
                    <p:outputLabel for="evapotranspiracionPromedio" value="Promedio"/>
                    <p:outputLabel for="evapotranspiracionMaximo" value="Máximo"/>
                    <p:outputLabel for="evapotranspiracionFuente" value="Fuente"/>
                    <p:inputText id="evapotranspiracionMinimo" widgetVar="evapotranspiracionMinimo"
                                 value="#{climaController.climaBean.clima.evapotranspiracionMinima}"
                                 required="true" maxlength="6">
                        <pe:keyFilter mask="num"/>
                        <f:validateDoubleRange maximum="#{climaController.validarRango('evapotranspiracion')}" />
                        <p:ajax process="@this evapotranspiracionMinimo" update="evapotranspiracionMinimo" />
                    </p:inputText>

                    <p:inputText id="evapotranspiracionPromedio" widgetVar="evapotranspiracionPromedio"
                                 value="#{climaController.climaBean.clima.evapotranspiracionPromedio}"
                                 required="true" maxlength="6"  validator="#{climaController.validatePromedio}">
                        <p:ajax process="@this evapotranspiracionPromedio" update="evapotranspiracionPromedio" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>

                    <p:inputText id="evapotranspiracionMaximo" widgetVar="evapotranspiracionMaximo" thousandSeparator=""
                                 value="#{climaController.climaBean.clima.evapotranspiracionMaxima}"
                                 required="true" maxlength="6">
                        <f:validateDoubleRange minimum="#{climaController.climaBean.clima.evapotranspiracionMinima}" />
                        <p:ajax process="@this velocidadVientoMaximo" update="velocidadVientoMaximo" />
                        <pe:keyFilter mask="num"/>
                    </p:inputText>

                    <p:inputText id="evapotranspiracionFuente"
                                 value="#{climaController.climaBean.clima.evapotranspiracionFuente}"
                                 required="true" maxlength="150"/>
                </h:panelGrid>
            </p:panelGrid>

        </h:panelGroup>

        <p:separator/>

        <div class="buttons">
            <p:commandButton value="Aceptar" actionListener="#{climaController.guardarClima}"
                             process="@this panelClima" update="tableClima panelClima"
                             oncomplete="handleClima(xhr, status, args)"/>
        </div>

        <script type="text/javascript">
            function handleClima(xhr, status, args) {
                if (!args.addClima) {
                    PF('adicionarClima').show();
                }
                else {
                    PF('adicionarClima').hide();
                }
            }
        </script>


    </p:dialog>

    </html>