<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:controles-prime="http://java.sun.com/jsf/composite/controles-prime"
                xmlns:control="http://java.sun.com/jsf/composite/controles-prime"
                xmlns:mae="http://java.sun.com/jsf/composite/mae-composite">
    <h:form rendered="#{faunaController.faunaBean.idTipoMuestreo != null and faunaController.faunaBean.grupoTaxonomicoSeleccionado.id == faunaController.faunaBean.idEntomofauna}">
        <p:panelGrid columns="1" layout="grid" styleClass="w100" columnClasses="">
            <f:facet name="header">
                <p:commandButton value="Generar"  styleClass="button-small-text toRight field_mrg" icon="ui-icon-plusthick" 
                                 action="#{faunaController.cargarTablaDetalleFaunaEspecie()}" 
                                 update=":#{p:component('tblCuaEspecieEntomofauna')}"              />
                <mae:panelGridHeaderHelp value="Cuantitativo por especies" conector="ubicacionHelp" image="#{request.contextPath}/resources/images/proyecto-mapa.png" help="" />
            </f:facet>
            <p:dataTable id="tblCuaEspecieEntomofauna" value="#{faunaController.faunaBean.listaDetalleFaunaEspecies}"
                         var="cuantitativoEspecie" paginator="true" rows="10" paginatorPosition="bottom" scrollable="true" scrollWidth="700"
                         emptyMessage="#{labels['common.table.empty']}">
                <p:column headerText="Punto de muestreo" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.puntosMuestreoIds}"/>
                    </center>
                </p:column>
                <p:column headerText="N° de registro" width="50">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.numeroRegistro}"/>
                    </center>
                </p:column>
                <p:column headerText="Órden" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.ordenConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Familia" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.familiaConcatenado}"/>
                    </center>
                </p:column>
                <p:column headerText="Género" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.generoConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Especie/ Morfoespecie" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.especie}"/>
                    </center>
                </p:column>
                <p:column headerText="Numero de individuos" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.numeroIndividuosConcatenado}" />
                    </center>
                </p:column>

                <p:column headerText="Tipo vegetación" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbTipoVegetacionConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Condiciones Climáticas" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbCondicionesClimaticasConcatenado}" />
                    </center>
                </p:column>

                <p:column headerText="Distribución vertical de la especie" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbDistribucionVerticalConcatenado}" />
                    </center>
                </p:column>

                <p:column headerText="Gremio alimenticio" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbGremioAlimenticioConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Patrón actividad" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbPatronActividadConcatenado}" />
                    </center>
                </p:column>


                <p:column headerText="Sensibilidad" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbSensibilidadConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Criterio sensibilidad" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.criterioSensibilidadConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Especies bioindicadoras del estado de conservación" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbEspeciesBioindicadorasConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Criterio" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.criterioConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Uso" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbUsoConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Endémica" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbEndemicaConcatenado}" />
                    </center>
                </p:column>

                <p:column headerText="UICN Internacional" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbUicnConcatenado}" />
                    </center>
                </p:column>
                <p:column headerText="Cites" width="240">
                    <center>
                        <h:outputText value="#{cuantitativoEspecie.cmbCitesConcatenado}" />
                    </center>
                </p:column>

                <p:column headerText="Riqueza" width="240">
                    <center>
                        <controles-prime:soloTextoNumerosDecimales identificador="txtRiqueza1Tbl" 
                                                                   valor="#{cuantitativoEspecie.riqueza}"
                                                                   tamanio="10"
                                                                   longitud="6"
                                                                   requerido="true"/>
                    </center>
                </p:column>
                <p:column headerText="Abundancia" width="240">
                    <center>
                        <controles-prime:soloTextoNumerosDecimales identificador="txtAbundancia1Tbl" 
                                                                   valor="#{cuantitativoEspecie.abundancia}"
                                                                   tamanio="10"
                                                                   longitud="6"
                                                                   requerido="true"/>
                    </center>
                </p:column>
                <p:column headerText="Shannon" width="240">
                    <center>
                        <controles-prime:soloTextoNumerosDecimales identificador="txtShannon1Tbl" 
                                                                   valor="#{cuantitativoEspecie.shannon}"
                                                                   tamanio="10"
                                                                   longitud="6"
                                                                   requerido="true"/>
                    </center>
                </p:column>
                <p:column headerText="Simpson" width="240">
                    <center>
                        <controles-prime:soloTextoNumerosDecimales identificador="txtSimpson1Tbl" 
                                                                   valor="#{cuantitativoEspecie.simpson}"
                                                                   tamanio="10"
                                                                   longitud="6"
                                                                   requerido="true"/>
                    </center>
                </p:column>
                <p:column headerText="Indice" width="240">
                    <center>
                        <controles-prime:soloTextoNumerosDecimales identificador="txtIndice1Tbl" 
                                                                   valor="#{cuantitativoEspecie.indice}"
                                                                   tamanio="10"
                                                                   longitud="6"/>
                    </center>
                </p:column>
                <p:column headerText="Justificación" width="240">
                    <center>
                        <controles-prime:todoTextoComoIngrese identificador="txtJustificacion" 
                                                              valor="#{cuantitativoEspecie.justificacion}" 
                                                              tamanio="20"
                                                              longitud="100"/>
                    </center>
                </p:column>
                <p:column headerText="Anexo del análisis estadístico" width="240">
                    <p:fileUpload  mode="advanced" auto="true" label="Seleccione" dragDropSupport="false"
                                   sizeLimit="1000000"  allowTypes="/(\.|\/)(pdf)$/" />
                </p:column>
                <f:facet name="footer">

                </f:facet>
            </p:dataTable>
        </p:panelGrid>
        <br/>
        <p:panelGrid columns="4" layout="grid" styleClass="w100">
            <h:outputLabel value="Suma total de riqueza*" />
            <h:outputLabel value="Suma total de abundancia*" />
            <h:outputLabel value="Shannon*" />
            <h:outputLabel value="Simpson*" />
            <controles-prime:soloTextoNumerosDecimales identificador="txtRiqueza1" 
                                                       valor="#{faunaController.faunaBean.detalleFaunaSumaEspecies.sumaRiqueza}"
                                                       tamanio="10"
                                                       longitud="6"/>
            <controles-prime:soloTextoNumerosDecimales identificador="txtAbundancia1" 
                                                       valor="#{faunaController.faunaBean.detalleFaunaSumaEspecies.sumaAbundancia}"
                                                       tamanio="10"
                                                       longitud="6"/>
            <controles-prime:soloTextoNumerosDecimales identificador="txtShannon1" 
                                                       valor="#{faunaController.faunaBean.detalleFaunaSumaEspecies.sumaShannon}"
                                                       tamanio="10"
                                                       longitud="6"/>
            <controles-prime:soloTextoNumerosDecimales identificador="txtSimpson1" 
                                                       valor="#{faunaController.faunaBean.detalleFaunaSumaEspecies.sumaSimpson}"
                                                       tamanio="10"
                                                       longitud="6"/>

        </p:panelGrid>
        <br/>
        <div class="buttons main">
            <p:commandButton value="Guardar" action="#{faunaController.guardarCuantitativo()}" 
                             icon="ui-icon-check"
                             update=":#{p:component('frmDatos')}, :#{p:component('tblTablas')}"/>
            <p:commandButton value="Cancelar" action="/pages/eia/fauna/gruposTaxonomicos.jsf" 
                             styleClass="secondary" icon="ui-icon-cancel"
                             ajax="false" immediate="true"/>
        </div>
    </h:form>



</ui:composition>
