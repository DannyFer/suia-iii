<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:observaciones="http://java.sun.com/jsf/composite/observaciones"
      xmlns:control="http://java.sun.com/jsf/composite/controles-prime">
<ui:composition template="/WEB-INF/templates/default.xhtml">	
	<ui:define name="content">
	<style>
table.panel_data1 {
	/*COLOR: BORDE*/
	border: 1px #C5C5C5 solid;
	border-collapse: separate;
	margin: 0px;
	padding: 0px;
}

table.panel_data1 td {
	/*COLOR: CELDAS DATOS*/
	text-align: left;
	background-color: #F5F5F5;
	padding: 5px;
}

table.panel_data1 th, table.panel_data1 th.header, table.panel_data1 td.header,
	table.panel_data1 tr.alt td.header {
	/*COLOR: CELDAS CABECERA*/
	text-align: right;
	background-color: #00aac3;
	padding-right: 7px;
	padding-left: 7px;
	vertical-align: top;
	font-weight: bold;
	color: #FFF;
	vertical-align: middle;
}
</style>
        <h:form id="form">
        <p:panel styleClass="separatorTop colapsablePanelStandard" toggleable="true" widgetVar="panelContextoActividad">
							<f:facet name="header">
								<h:outputText value="Datos del Proyecto" />
								
							</f:facet>
        	<h:panelGrid columns="3" styleClass="mw50 panel_data" columnClasses="header w25, null, alCenter w20px" rowClasses="null, alt">
								
								<h:outputText value="Proyecto" rendered="#{!empty proyectosBean.proyecto.codigo}" />
								<h:outputText value="#{proyectosBean.proyecto.codigo}" rendered="#{!empty proyectosBean.proyecto.codigo}" />
								<p:commandButton type="button" icon="ui-icon-search" onclick="PF('modalShowProyecto').show()" styleClass="primary button-small" rendered="#{!empty proyectosBean.proyecto.codigo}" />
								
								<h:outputText value="Proponente"/>
								<h:outputText value="#{proyectosBean.proponente}" />
								<h:outputText value="" />
								

							</h:panelGrid>
        
        					<p:dialog width="700" id="modalShowProyecto" header="Resumen del proyecto" widgetVar="modalShowProyecto" modal="true" resizable="false">
								<h:panelGrid styleClass="panel_data w100" columns="2" columnClasses="header w25, null" rowClasses="null, alt">
									<h:outputText value="Código" />
									<h:outputText value="#{proyectosBean.proyecto.codigo}" />
									<h:outputText value="Fecha de registro" />
									<h:outputText value="#{proyectosBean.proyecto.fechaRegistro}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
									<h:outputText value="Nombre" />
									<h:outputText value="#{proyectosBean.proyecto.nombre}" />
									<h:outputText value="Actividad" />
									<h:outputText value="#{proyectosBean.proyecto.catalogoCategoria.descripcion}" />									
								</h:panelGrid>
								<p:separator />
								
							</p:dialog>
        </p:panel>        
        
        <p:panel>					
					
				<h:panelGrid style="width:100%">
										
					<p:row>
					<p:column colspan="2">
						<p:outputLabel style="font-weight: bold;"
						value="Declaración juramentada de que el valor de la póliza o garantía corresponde al 100% del valor del Plan de Manejo Ambiental." />
					</p:column>					
					</p:row>
					<p:row>
					<p:column>
					<p:outputLabel id="labelDocumentosPoliza"
						value="#{empty componenteSocialSDController.documentoPoliza.nombre ? 'Documento:(.pdf)': componenteSocialSDController.documentoPoliza.nombre}" />
					</p:column>
					<p:column>
					  <p:commandButton id="downloadDocPoliza"
										 rendered="#{not empty componenteSocialSDController.documentoPoliza.nombre}"
										 icon="ui-icon-arrowthick-1-s" ajax="false"
										 styleClass="button-small primary" title="Ver" immediate="true">
							<p:fileDownload
									value="#{componenteSocialSDController.getStreamContentDocumentoPoliza()}" />
						</p:commandButton>		
					</p:column>
					</p:row>						
									
					<p:separator/>
					
					<p:row>
					<p:column colspan="2">
						<p:outputLabel style="font-weight: bold;" value="Póliza" />
					</p:column>					
					</p:row>
					<p:row>
					<p:column>
					<p:outputLabel id="labelPoliza020"
						value="#{empty componenteSocialSDController.poliza.nombre ? 'Documento:(.pdf)': componenteSocialSDController.poliza.nombre}" />
					</p:column>
					<p:column>
					  <p:commandButton id="downloadDocPoliza020"
										 rendered="#{not empty componenteSocialSDController.poliza.nombre}"
										 icon="ui-icon-arrowthick-1-s" ajax="false"
										 styleClass="button-small primary" title="Ver" immediate="true">
							<p:fileDownload
									value="#{componenteSocialSDController.getStreamContentDocumentoPoliza020()}" />
						</p:commandButton>		
					</p:column>
					</p:row>		
					
					<p:separator/>
					
					<p:row>
					<p:column colspan="2">
						<p:outputLabel style="font-weight: bold;" value="Resolución" />
					</p:column>					
					</p:row>
					<p:row>
					<p:column>
					<p:outputLabel id="labelResolución"
						value="#{empty componenteSocialSDController.documentoResolucion.nombre ? 'Documento:(.pdf)': componenteSocialSDController.documentoResolucion.nombre}" />
					</p:column>
					<p:column>
					  <p:commandButton id="downloadDocResolucion"
										 rendered="#{not empty componenteSocialSDController.documentoResolucion.nombre}"
										 icon="ui-icon-arrowthick-1-s" ajax="false"
										 styleClass="button-small primary" title="Ver" immediate="true">
							<p:fileDownload
									value="#{componenteSocialSDController.getStreamContentDocumentoResolucion()}" />
						</p:commandButton>		
					</p:column>
					</p:row>		
					
					<p:separator/>
					
					<p:row>
					<p:column colspan="2">
						<p:outputLabel style="font-weight: bold;" value="Ficha Ambiental" />	
					</p:column>					
					</p:row>
					<p:row>
					<p:column>
					<p:outputLabel id="labelDocumentosLegales"
						value="#{empty componenteSocialSDController.documentoFicha.nombre ? 'Documento:(.pdf)': componenteSocialSDController.documentoFicha.nombre}" />
					</p:column>
					<p:column>
					 <p:commandButton id="downloadDocLegales"
										 rendered="#{not empty componenteSocialSDController.documentoFicha.nombre}"
										 icon="ui-icon-arrowthick-1-s" ajax="false"
										 styleClass="button-small primary" title="Ver" immediate="true">
							<p:fileDownload
									value="#{componenteSocialSDController.getStreamContentDocumentoFicha()}" />
						</p:commandButton>
					</p:column>
					</p:row>	
					
					<p:separator/>
					
					<p:row>
					<p:column colspan="2">
						<p:outputLabel style="font-weight: bold;" value="Factura" />
					</p:column>					
					</p:row>
					<p:row>
					<p:column>
					<p:outputLabel id="labelFactura"
						value="#{empty componenteSocialSDController.factura.nombre ? 'Documento:(.pdf)': componenteSocialSDController.factura.nombre}" />
					</p:column>
					<p:column>
					  <p:commandButton id="downloadDocFactura"
										 rendered="#{not empty componenteSocialSDController.factura.nombre}"
										 icon="ui-icon-arrowthick-1-s" ajax="false"
										 styleClass="button-small primary" title="Ver" immediate="true">
							<p:fileDownload
									value="#{componenteSocialSDController.getStreamContentDocumentoFactura()}" />
						</p:commandButton>		
					</p:column>
					</p:row>					
						
				</h:panelGrid>

					
				</p:panel>
        
        
        
         <p:panel styleClass="separatorTop colapsablePanelStandard" toggleable="true" >
				<h:panelGrid styleClass="panel_data1 mw50" columns="2"
					columnClasses="header header_min_width200, null"
					rowClasses="null, alt">

					<h:outputText value="¿Desea aprobar o rechazar el registro ambiental?" />
					<p:selectOneRadio
						value="#{revisionFichaMineriaSDController.perforacionExplorativa.approveTechnical}">
						<f:selectItem itemLabel="Aprobado" itemValue="true" />
						<f:selectItem itemLabel="Rechazado" itemValue="false" />
						<p:ajax update="@form" process="@this" listener="#{revisionFichaMineriaSDController.verObservacion}"/>
					</p:selectOneRadio>
				</h:panelGrid>
			</p:panel>
			<br></br>
			<p:panel id="idpanelObservacion"
				rendered="#{revisionFichaMineriaSDController.estadoObservaciones}">
				<f:facet name="header">
					<h:outputText value="Ingrese su Observación *" />
				</f:facet>
				<p:inputTextarea style="width: 100%;" styleClass="alJustify" required="true" requiredMessage="Ingrese una observación"
					value="#{revisionFichaMineriaSDController.perforacionExplorativa.technicalObservation}"
					rows="5" autoResize="false" />
			</p:panel>




			<div class="buttons main">

                <p:commandButton value="Guardar" styleClass="primary"
                                 icon="ui-icon-disk" 
                                 action="#{revisionFichaMineriaSDController.guardar()}"  />
               
               <p:commandButton value="Cancelar" styleClass="primary"
                                 action="#{revisionFichaMineriaSDController.cancelar()}"/>

               
            </div>            
        </h:form>
    </ui:define>
</ui:composition>
</html>