<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/templates/default.xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:mae="http://java.sun.com/jsf/composite/mae-composite"
    xmlns:control="http://java.sun.com/jsf/composite/controles-prime">
    <ui:define name="content">
    <p:panel header="Contexto de la Actividad" styleClass="separatorTop">
        <style>
            .menu-ficha {
                font-size: 100%;
                color: #222222;
            }
            
            .inputOnDataTable input{
                 width: 90px !important;   
            }
            .ui-fileupload-content {
            border: none !important;
            padding: 0px;
            display: block;
            float: right;
	        }
	        .ui-fileupload-buttonbar {
	            text-align: right !important;
	        }
            
        </style>
        <script>
            $(document).ready(function () {

                var url = window.location.pathname,
                        urlRegExp = new RegExp(url.replace(/\/$/, '') + "$"); // create regexp to match current url pathname and remove trailing slash if present as it could collide with the link in navigation in case trailing slash wasn't present there
                // now grab every link from the navigation
                $('#menu-principal a').each(function () {
                    // and test its normalized href against the url pathname regexp
                    if (urlRegExp.test(this.href.replace(/\/$/, ''))) {
                        $(this).addClass(' bold');
                    }
                });
            })
        </script>
        <h:form>
            <h:panelGrid columns="3" styleClass="mw50 panel_data" rowClasses="null, alt" columnClasses="header w25, null, alCenter w20px">
                <h:outputText value="Actividad" />
                <h:outputText value="#{bandejaTareasBean.tarea.taskName}" styleClass="bold " />
                <h:outputText />
                
                <h:outputText value="Flujo" />
                <h:outputText value="#{bandejaTareasBean.tarea.processName}" />
                <p:commandButton icon="ui-icon-search" styleClass="primary button-small"
                    action="#{visualizarDiagrama.init(bandejaTareasBean.tarea.processInstanceId)}"/>
                    
                <h:outputText value="Trámite" />
                <h:outputText value="#{bandejaTareasBean.tarea.procedure}" />
                <p:commandButton type="button" icon="ui-icon-search" onclick="PF('modalShowTramite').show()" styleClass="primary button-small" />
                
                <h:outputText value="Operador" />
                <h:outputText value="#{proyectosBean.proponente}" />
                <p:commandButton icon="ui-icon-search"  
                    update=":#{p:component('pnlProponente')}" oncomplete="PF('modalShowProponente').show()" styleClass="primary button-small" />
                
            </h:panelGrid>
            
            <p:dialog width="800" height="500" position="top" id="modalShowFlow" styleClass="modalShowFlow" header="Detalles del flujo"
                widgetVar="modalShowFlow" modal="true" resizable="true">
                <p:panel header="Diagrama" collapsed="false" toggleable="false" styleClass="alCenter">
                    <img src="#{request.contextPath}/resources/images/flujo.png" />
                </p:panel>
                <p:panel header="Historial de actividades" collapsed="true" toggleable="true" rendered="false">
                    <h:outputText value="Loading..." />
                </p:panel>
                <p:panel header="Variables del flujo" collapsed="true" toggleable="true" rendered="false">
                    <h:outputText value="Loading..." />
                </p:panel>
            </p:dialog>
            
            <p:dialog width="700"  id="modalShowTramite" header="Resumen del proyecto" widgetVar="modalShowTramite" modal="true" resizable="false">
                <h:panelGrid  styleClass="panel_data w100" columns="2" columnClasses="header w25, null" rowClasses="null, alt">
                    <h:outputText value="Código" />
                    <h:outputText value="#{proyectosBean.proyecto.codigo}" rendered="#{!fichaMineria020Controller.esProyectoRcoa}"/>
                    <h:outputText value="#{fichaMineria020Controller.proyectoLicenciaCoa.codigoUnicoAmbiental}" rendered="#{fichaMineria020Controller.esProyectoRcoa}"/>
                    <h:outputText value="Fecha de registro" />
                    <h:outputText value="#{proyectosBean.proyecto.fechaRegistro}" rendered="#{!fichaMineria020Controller.esProyectoRcoa}">
                        <f:convertDateTime pattern="dd/MM/yyyy" />
                    </h:outputText>
                    <h:outputText value="#{fichaMineria020Controller.proyectoLicenciaCoa.fechaCreacion}" rendered="#{fichaMineria020Controller.esProyectoRcoa}">
                        <f:convertDateTime pattern="dd/MM/yyyy" />
                    </h:outputText>
                    <h:outputText value="Nombre:"/>
                    <h:outputText value="#{proyectosBean.proyecto.nombre}" />
                    <h:outputText value="Actividad:" />
                    <h:outputText
                            value="#{proyectosBean.proyecto.catalogoCategoria.descripcion}" rendered="#{!fichaMineria020Controller.esProyectoRcoa}"/>
                     <h:outputText
                            value="#{fichaMineria020Controller.actividadPrincipal.catalogoCIUU.nombre}" rendered="#{fichaMineria020Controller.esProyectoRcoa}"/>
                    <h:outputText value="Ver detalles del proyecto" />
                    <p:commandLink action="#{proyectosBean.seleccionar(proyectosBean.proyecto)}" rendered="#{!fichaMineria020Controller.esProyectoRcoa}">
                        <h:outputText value="Ver detalles" />
                    </p:commandLink>
                    <p:commandLink action="#{proyectosBean.seleccionar(fichaMineria020Controller.proyectoLicenciaCoa, true)}" 
                        rendered="#{fichaMineria020Controller.esProyectoRcoa}">
                        <h:outputText value="Ver detalles" />
                    </p:commandLink>
                </h:panelGrid>

            </p:dialog>

            <p:dialog width="500" height="150" id="modalShowProponente" header="Proponente" 
                widgetVar="modalShowProponente" modal="true" resizable="false">
                <h:panelGrid styleClass="w100" columns="1" id="pnlProponente">
                    <h:panelGrid styleClass="panel_data mw50" columns="2" columnClasses="header, null" rowClasses="null, alt">
                        <h:outputText value="Nombre" />
                        <h:outputText value="#{proyectosBean.proponente}" />
                    </h:panelGrid>
                    <br />
                    <h:outputText value="Ubicación geográfica" styleClass="bold" />
                    <p:dataTable value="#{proyectosBean.ubicacionProponente}" var="ubicacion">
                        <p:column headerText="Provincia">
                            <h:outputText value="#{ubicacion.ubicacionesGeografica.ubicacionesGeografica.ubicacionesGeografica.nombre}" />
                        </p:column>
                        <p:column headerText="Cantón">
                            <h:outputText value="#{ubicacion.ubicacionesGeografica.ubicacionesGeografica.nombre}" />
                        </p:column>
                        <p:column headerText="Parroquia">
                            <h:outputText value="#{ubicacion.ubicacionesGeografica.nombre}" />
                        </p:column>
                    </p:dataTable>
                </h:panelGrid>
            </p:dialog>
        </h:form>
    </p:panel>
    <br />
    
    <p:panel id="menu-principal">
        <f:facet name="header">
            <h:outputText value="Registro Ambiental Minería" styleClass="encabezado1_1em alLeft ui-panel-title" />
        </f:facet>
        <h:form>
                <ul>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(1)}"
                            update=":frmFicha020">
                            <h:outputText value="1. Proyecto, obra o actividad" class="menu-ficha" />
                        </p:commandLink></li>

                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(2)}"
                            update=":frmFicha020">
                            <h:outputText value="2. Actividad económica"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(3)}"
                            update=":frmFicha020">
                            <h:outputText value="3. Ficha técnica"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(4)}"
                            update=":frmFicha020">
                            <h:outputText value="4. Antecedentes del proyecto"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(5)}"
                            update=":frmFicha020">
                            <h:outputText value="5. Resumen del proyecto"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(6)}"
                            update=":frmFicha020">
                            <h:outputText value="6. Descripción del proyecto "
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(7)}"
                            update=":frmFicha020">
                            <h:outputText value="7. Requerimientos del proyecto "
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(8)}"
                            update=":frmFicha020">
                            <h:outputText value="8. Área de influencia"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(9)}"
                            update=":frmFicha020">
                            <h:outputText value="9. Línea Base"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(10)}"
                            update=":frmFicha020">
                            <h:outputText value="10. Marco legal"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(11)}"
                            update=":frmFicha020">
                            <h:outputText value="11. Descripción de actividades e identificación de impactos ambientales"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(12)}"
                            update=":frmFicha020">
                            <h:outputText value="12. Plan de Manejo Ambiental"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(13)}"
                            update=":frmFicha020">
                            <h:outputText value="13. Cronograma valorado"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(14)}"
                            update=":frmFicha020">
                            <h:outputText value="14. Anexos"
                                class="menu-ficha" />
                        </p:commandLink></li>
                    <li><p:commandLink
                            action="#{fichaMineria020Controller.activeIndex(15)}"
                            update=":frmFicha020">
                            <h:outputText value="15. Finalizar registro ambiental"
                                class="menu-ficha" />
                        </p:commandLink></li>
                </ul>
            </h:form>
    </p:panel>
    <div class="content">
        <h:form id="frmFicha020">           
                <p:panel header="1. PROYECTO, OBRA O ACTIVIDAD" rendered="#{fichaMineria020Controller.index==1}">
                    <h:outputText value="#{fichaMineria020Controller.proyecto.nombre}"/>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(2)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                
                <p:panel header="2. ACTIVIDAD ECONÓMICA" rendered="#{fichaMineria020Controller.index==2}">
                    <h:outputText value="#{fichaMineria020Controller.proyecto.catalogoCategoria.descripcion}" 
                    rendered="#{!fichaMineria020Controller.esProyectoRcoa}" />
                    <h:outputText value="#{fichaMineria020Controller.actividadPrincipal.catalogoCIUU.nombre}" 
                    rendered="#{fichaMineria020Controller.esProyectoRcoa}" />
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(1)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(3)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                
                <p:panel id="idPanel3" header="3. FICHA TÉCNICA" rendered="#{fichaMineria020Controller.index==3}">
                    <p:panelGrid style="width: 100%;">
                        <p:row>
                            <p:column colspan="3" style="background-color: #c5e1e1;">
                                <h:outputText value="3.1 Datos de la Concesión" style="font-weight: bold;"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Código del proyecto SUIA:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText
                                    value="#{fichaMineria020Controller.proyecto.codigo}" rendered="#{!fichaMineria020Controller.esProyectoRcoa}" />

                                <h:outputText
                                    value="#{fichaMineria020Controller.proyectoLicenciaCoa.codigoUnicoAmbiental}" rendered="#{fichaMineria020Controller.esProyectoRcoa}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Superficie:" />
                            </p:column>
                            <p:column colspan="2">
                                <ui:repeat value="#{fichaMineria020Controller.superficie}" var="item">
                                    <div>#{item}</div>
                                </ui:repeat>
                            </p:column>
                        </p:row>
                        <h:panelGroup rendered="#{!fichaMineria020Controller.esProyectoRcoa and fichaMineria020Controller.proyecto.tipoEstudio.id==2}">
                        <p:row>
                            <p:column>
                                <h:outputText value="Fecha de inicio de actividades:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.proyecto.fechaInicioOperaciones}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Guayaquil"/>
                                </h:outputText>
                            </p:column>
                        </p:row>                        
                        </h:panelGroup>
                        <p:row>
                            <p:column colspan="3" style="background-color: #c5e1e1;">
                                <h:outputText value="3.2 Ubicación Geográfica" style="font-weight: bold;"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Provincia:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.provincia}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Cantón:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.canton}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Parroquia:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.parroquia}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Tipo de zona" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText rendered="#{!fichaMineria020Controller.esProyectoRcoa}"
                                    value="#{fichaMineria020Controller.proyecto.tipoPoblacion.nombre}" />
                                <h:outputText rendered="#{fichaMineria020Controller.esProyectoRcoa}"
                                    value="#{fichaMineria020Controller.proyectoLicenciaCoa.tipoPoblacion.nombre}" />
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputText value="Coordenadas Geográficas(WGS84)" style="font-weight: bold;"/>
                            </p:column>
                        </p:row>

                    </p:panelGrid>
                    <p:dataTable rowIndexVar="index"
                        value="#{fichaMineria020Controller.proyecto.formasProyectos}"
                        rendered="#{!fichaMineria020Controller.esProyectoRcoa}"
                        var="item" emptyMessage="#{labels['common.table.empty']}">
                        <p:subTable value="#{item.coordenadas}" var="coordenada">

                            <f:facet name="header">
                                <h:outputText
                                    value="Grupo de coordenadas #{index + 1} (#{item.tipoForma})" />
                            </f:facet>
                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column headerText="Shape"
                                        styleClass="alCenter table-column-header" />
                                    <p:column headerText="X"
                                        styleClass="alCenter table-column-header" />
                                    <p:column headerText="Y"
                                        styleClass="alCenter table-column-header" />
                                </p:row>
                            </p:columnGroup>
                            <p:column headerText="Shape" styleClass="alCenter w15">
                                <h:outputText value="#{coordenada.orden}" />
                            </p:column>
                            <p:column headerText="X" styleClass="alCenter w15">
                                <h:outputText value="#{coordenada.x}" />
                            </p:column>
                            <p:column headerText="Y" styleClass="alCenter w15">
                                <h:outputText value="#{coordenada.y}" />
                            </p:column>
                        </p:subTable>
                    </p:dataTable>

                    <p:dataTable rowIndexVar="index" value="#{fichaMineria020Controller.coordenadasImplantacion}" var="item" rendered="#{fichaMineria020Controller.esProyectoRcoa}" 
                    emptyMessage="#{labels['common.table.empty']}">
                        <p:subTable value="#{item.coordenadas}" var="coordenada">
                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column headerText="Grupo de coordenadas #{index + 1} (#{item.tipoForma})" styleClass="alCenter w100 table-column-header" colspan="3" />
                                </p:row>
                                <p:row>
                                    <p:column headerText="Shape" styleClass="alCenter table-column-header" />
                                    <p:column headerText="X" styleClass="alCenter table-column-header" />
                                    <p:column headerText="Y" styleClass="alCenter table-column-header" />
                                </p:row>
                            </p:columnGroup>
                            <p:column headerText="Shape" styleClass="alCenter w15">
                                <h:outputText value="#{coordenada.ordenCoordenada}" />
                            </p:column>
                            <p:column headerText="X" styleClass="alCenter w15">
                                <h:outputText value="#{coordenada.x.intValue()}" />
                            </p:column>
                            <p:column headerText="Y" styleClass="alCenter w15">
                                <h:outputText value="#{coordenada.y.intValue()}" />
                            </p:column>
                        </p:subTable>
                    </p:dataTable>

                    <p:panel>
                        <h:outputText value="Coordenadas Geográficas(PSAD 56) Derecho Minero (Fuente ARCOM)" style="font-weight: bold;"/>
                        <p:dataTable rowIndexVar="index" id="tableCoordenadas"
                            value="#{fichaMineria020Controller.listaCoordenadas}" var="item"
                            emptyMessage="#{labels['common.table.empty']}">

                            <p:column headerText="Shape" styleClass="alCenter w15">
                                <h:outputText value="#{item.orden}" />
                            </p:column>
                            <p:column headerText="X" styleClass="alCenter w15">
                                <h:outputText value="#{item.x}">
                                    
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Y" styleClass="alCenter w15">
                                <h:outputText value="#{item.y}">
                                    
                                </h:outputText>
                            </p:column>

                        </p:dataTable>
                    </p:panel>
                    <p:panelGrid style="width: 100%;" id="panelGridMineria">
                        <p:row>
                            <p:column colspan="3" style="background-color: #c5e1e1;">
                                <h:outputText value="3.3 Datos del Titular Minero" style="font-weight: bold;"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Titular Minero:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.titular}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Representante Legal:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.representanteLegal}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Domicilio: " />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.direccion}" />
                            </p:column>
                        </p:row>
                        
                        <p:row>
                            <p:column>
                                <h:outputText value="Casillero Judicial: " />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText value="#{fichaMineria020Controller.perforacionExplorativa.judicialLocker}" 
                                 maxlength="30">
                                 <pe:keyFilter regEx="/[\d\-]/"/>
                                 </p:inputText>
                            </p:column>
                        </p:row>
                        
                        <p:row>
                            <p:column>
                                <h:outputText value="Correo electrónico: " />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.email}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Teléfono convencional: " />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.telefono}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Teléfono celular: " />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.cell}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="3" style="background-color: #c5e1e1;">
                                <h:outputText value="3.4 Datos del Consultor calificado por el MAATE " style="font-weight: bold;"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                        <h:outputText value="Nombre del consultor o compañía consultora:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.consultorRcoa.nombreConsultor}" />
                                <p:commandButton value="Buscar" action="#{fichaMineria020Controller.mostrarConsultores()}" oncomplete="PF('idConsultores').show()" styleClass="primary" style="float:right;" />
                            </p:column>
                        </p:row>
                        <p:row rendered="#{not empty fichaMineria020Controller.consultorRcoa.representante}">
                            <p:column>
                                <h:outputText value="Representante legal:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.consultorRcoa.representante}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Número de registro de calificación del consultor:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.consultorRcoa.certificado}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Correo electrónico:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.consultorRcoa.correo}" />
                            </p:column>
                        </p:row>    
                        <p:row>
                            <p:column>
                                <h:outputText value="Teléfono:" />
                            </p:column>
                            <p:column colspan="2">
                                <h:outputText value="#{fichaMineria020Controller.consultorRcoa.telefono}" />
                            </p:column>
                        </p:row>
                        <p:row rendered="#{not empty fichaMineria020Controller.listaEquipoConsultor}" >
                            <p:column colspan="2">
                                <h:outputText value="Detalle del Equipo Multidisciplinario " />
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <p:dataTable rowIndexVar="index" id="tableEquipoMultidisciplinario"
                                     value="#{fichaMineria020Controller.listaEquipoConsultor}" var="equipo"
                                     emptyMessage="#{labels['common.table.empty']}"
                                     rendered="#{not empty fichaMineria020Controller.listaEquipoConsultor}">
                                    <p:column headerText="#" styleClass="alCenter w15">
                                        <h:outputText value="#{index + 1}" />
                                    </p:column>
                                    <p:column headerText="Nombre" styleClass="alCenter w15">
                                        <h:outputText value="#{equipo.nombre}" />
                                    </p:column>
                                    <p:column headerText="Formación Profesional" styleClass="alCenter w15">
                                        <h:outputText value="#{equipo.titulo}" />
                                    </p:column>
                                    <p:column headerText="Componente (Socioeconómico, Físico, Biótico y Geográfico)" styleClass="alCenter w15">
                                        <h:outputText value="#{equipo.componente.nombre}" />
                                    </p:column>
                                    <p:column headerText="Seleccionar" styleClass="alCenter w15">
                                        <p:selectBooleanCheckbox value="#{equipo.seleccionado}" />
                                    </p:column>
                                                        
                                </p:dataTable>
                            </p:column>
                        </p:row>    
                    </p:panelGrid>
                    <p:separator></p:separator>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(2)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>
                            <p:commandButton value="Guardar"
                                action="#{fichaMineria020Controller.guardar3}" icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(4)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>

                    </f:facet>
                </p:panel>
                <p:panel header="4. ANTECEDENTES DEL PROYECTO" rendered="#{fichaMineria020Controller.index==4}">
                    <p:panelGrid style="width: 100%;">
                        <p:row>                         
                            <p:column style="width: 25%;">
                                <h:outputText
                                    value="Permiso de ejecución del proyecto (título minero)" />
                            </p:column>
                            <p:column>                              
                                    <p:panel>
                                        <f:facet name="header">
                                            <mae:panelGridHeaderHelp conector="antecedentesProyecto"
                                                help="#{fichaMineria020Controller.mensajePunto4}" />
                                        </f:facet>
                                        <p:inputTextarea style="width: 100%;" styleClass="alJustify"
                                    value="#{fichaMineria020Controller.perforacionExplorativa.projectExecutionPermit}"
                                    rows="5" autoResize="false" />
                                    </p:panel>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Certificado de Intersección" />
                            </p:column>
                            <p:column>
                                <p:inputTextarea style="width: 100%;" readonly="true" styleClass="alJustify"
                                    value="#{fichaMineria020Controller.perforacionExplorativa.intersectionCertificate}"
                                    rows="5" autoResize="false" />

                            </p:column>
                        </p:row>
                        <p:row rendered="#{fichaMineria020Controller.viabilidad}">
                            <p:column>                              
                                <h:outputText
                                    value="Certificado de Viabilidad emitido por la Dirección Nacional Forestal (en caso de intersección)" />
                            </p:column>
                            <p:column>
                                <p:panel>
                                    <f:facet name="header">
                                        <mae:panelGridHeaderHelp conector="antecedentesProyecto"
                                            help="#{fichaMineria020Controller.mensajePunto41}" />
                                    </f:facet>
                                    <p:panelGrid styleClass="w100alCenter">
                                        <p:outputLabel
                                            value="Descargue su Certificado de Viabilidad   "
                                            styleClass="bold" />
                                        <p:commandButton value="Descargar" ajax="false"
                                            icon="ui-icon-arrowthick-1-s"
                                            onclick="$('.oculto').removeAttr('style');"
                                            styleClass="primary"
                                            action="#{fichaMineria020Controller.descargarViabilidad()}">

                                        </p:commandButton>
                                    </p:panelGrid>
                                    <br></br>
                                    <p:inputTextarea style="width: 100%;" styleClass="alJustify"
                                    value="#{fichaMineria020Controller.perforacionExplorativa.feasibilityCertificate}"
                                    rows="5" autoResize="false" />
                                </p:panel>
                            </p:column>
                        </p:row>

                    </p:panelGrid>
                    <p:separator></p:separator>

                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(3)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>
                            <p:commandButton value="Guardar" update=":frmFicha020"
                                action="#{fichaMineria020Controller.guardar4}"
                                icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(5)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>

                </p:panel>          
                
                <p:panel rendered="#{fichaMineria020Controller.index==5}">
                    <f:facet name="header">
                        <mae:panelGridHeaderHelp value="5. RESUMEN DEL PROYECTO"
                                                 conector="resumenProyecto"
                                                 help="#{fichaMineria020Controller.mensajePunto5}" />
                    </f:facet>
                    <p:inputTextarea style="width: 100%;" styleClass="alJustify" value="#{fichaMineria020Controller.perforacionExplorativa.projectSummary}" rows="5" autoResize="false"/>
                    <p:separator></p:separator>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(4)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>
                            <p:commandButton value="Guardar"
                                action="#{fichaMineria020Controller.guardar5}"
                                icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(6)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                <p:panel header="6. DESCRIPCIÓN DEL PROYECTO"
                    rendered="#{fichaMineria020Controller.index==6}">
                    <p:panelGrid columns="1" layout="grid" styleClass="w100">
                    <p>
                        <h:outputText
                            value="1. Describir la totalidad de actividades a desarrollarse dentro del proyecto incluyendo los recursos a ser utilizados y las áreas a ser intervenidas." />
                    </p>
                    <p>
                        <control:imputConTextoEnriquecido
                            valor="#{fichaMineria020Controller.perforacionExplorativa.intervenedAreas}"/>
                    </p>

                    <p>
                        <h:outputText
                            value="2. Describir las técnicas de exploración a emplearse, indicando las herramientas requeridas para su desarrollo, el número y dimensiones de cada una de las plataformas." />
                    </p>
                    <p>
                        <control:imputConTextoEnriquecido
                            valor="#{fichaMineria020Controller.perforacionExplorativa.explorationTechniques}"/>
                    </p>

                    <p>
                        <h:outputText
                            value="3. Detallar las actividades que se desarrollarán durante las etapas de cierre de proyecto, sea este progresivo o las que sean aplicables al cese definitivo de la actividad y rehabilitación de áreas intervenidas. " />
                    </p>
                    <p>
                        <control:imputConTextoEnriquecido
                            valor="#{fichaMineria020Controller.perforacionExplorativa.projectClosureStages}"/>
                    </p>

                    <p>
                        <h:outputText
                            value="4. En relación a la infraestructura y actividades complementarias de la actividad (temporales), describir lo siguiente:" />
                    </p>

                    <h:outputText
                                value="Accesos y/o trochas hacia los sitios de desarrollo de las actividades, indicando sus dimensiones, características, los usos potenciales. (su ancho normal será de hasta 1,5 metros de acuerdo al artículo 87 del RAAM). " />
                    
                            <p>
                                <control:imputConTextoEnriquecido
                                    valor="#{fichaMineria020Controller.perforacionExplorativa.accessesTrails}"/>
                            </p>
                    <h:outputText
                                value="Áreas a ser desbrozadas para realizar las actividades mineras, implantación de infraestructura temporal. " />
                    
                            <p>
                                <control:imputConTextoEnriquecido
                                    valor="#{fichaMineria020Controller.perforacionExplorativa.temporaryInfrastructureImplementation}"/>
                            </p>
                            <h:outputText
                                value="Características constructivas y dimensiones de campamentos temporales, pozos sépticos, piscinas de tratamiento de lodos de perforación, áreas de depósito de testigos, capa orgánica, plataformas, entre otros. " />
                        
                            <p>
                                <control:imputConTextoEnriquecido 
                                    valor="#{fichaMineria020Controller.perforacionExplorativa.temporaryCamps}"/>
                            </p>
                            <h:outputText
                                value="Incluir información sobre la maquinaria, equipos, materiales que se utilizarán en el desarrollo del proyecto; así como las cantidades, características y uso." />
                        
                            <p>
                                <p:dataTable id="tblMaquinaria"
                                    value="#{fichaMineria020Controller.listaMaquinariaEquipos}"
                                    var="item" emptyMessage="#{labels['common.table.empty']}">
                                    <f:facet name="header">
                                        <h:outputText value="Maquinaria, equipos y materiales" />
                                        <p:commandButton value="Adicionar"
                                            update=":frmDialogMaquinaria:idMaquinariaEquipo"
                                            oncomplete="PF('idMaquinariaEquipo').show()"
                                            styleClass="primary"
                                            action="#{fichaMineria020Controller.nuevoMaquinaEquipos}"
                                            style="float:right;" />
                                    </f:facet>
                                    <p:column
                                        headerText="Denominación de la maquinaria, equipos y materiales"
                                        styleClass="alCenter w15">
                                        <h:outputText value="#{item.name}" />
                                    </p:column>
                                    <p:column headerText="Cantidad(unidades)"
                                        styleClass="alCenter w15">
                                        <h:outputText value="#{item.unit}" />
                                    </p:column>
                                    <p:column headerText="Características"
                                        styleClass="alCenter w15">
                                        <h:outputText value="#{item.characteristics}" />
                                    </p:column>
                                    <p:column headerText="Uso / Proceso" styleClass="alCenter w15">
                                        <h:outputText value="#{item.process}" />
                                    </p:column>
                                    <p:column headerText="Acciones" styleClass="alCenter w15">
                                        <p:commandButton icon="ui-icon-pencil" title="Editar"
                                            process="@this"
                                            update=":frmDialogMaquinaria:idMaquinariaEquipo"
                                            styleClass="primary"
                                            oncomplete="PF('idMaquinariaEquipo').show()"
                                            actionListener="#{fichaMineria020Controller.editarMaquinaria(item)}" />
                                        <p:commandButton icon="ui-icon-trash" title="Eliminar"
                                            process="@this" styleClass="primary"
                                            actionListener="#{fichaMineria020Controller.eliminarMaquinaria(item)}"
                                            update=":frmFicha020:tblMaquinaria" />
                                    </p:column>
                                </p:dataTable>
                            </p>
                            <h:outputText
                                value="Indicar las fuentes de abastecimiento de agua, energía eléctrica, combustibles, sustancias químicos y aditivos, etc. Además, se registrar en tablas su identificación, cantidad y uso. " />
                        
                            <p>
                                <p:dataTable id="tblInsumos"
                                    value="#{fichaMineria020Controller.listaMaterialInsumo}"
                                    var="item" emptyMessage="#{labels['common.table.empty']}">
                                    <f:facet name="header">
                                        <h:outputText value="Materiales / Insumos" />
                                        <p:commandButton value="Adicionar"
                                            update=":frmDialogInsumo:idMaterialInsumo"
                                            oncomplete="PF('idMaterialInsumo').show()"
                                            styleClass="primary"
                                            action="#{fichaMineria020Controller.nuevoMaterialInsumo}"
                                            style="float:right;" />
                                    </f:facet>

                                    <p:column
                                        headerText="Material (combustibles, insumos, productos químicos)"
                                        styleClass="alCenter w15">
                                        <h:outputText
                                            value="#{item.sustanciaQuimicaPeligrosa.descripcion}" />
                                    </p:column>
                                    <p:column headerText="Cantidad(unidades)"
                                        styleClass="alCenter w15">
                                        <h:outputText value="#{item.value} #{item.unit}" />
                                    </p:column>
                                    <p:column headerText="Proceso en el que es empleado"
                                        styleClass="alCenter w15">
                                        <h:outputText value="#{item.process}" />
                                    </p:column>
                                    <p:column headerText="No. CAS /ONU" styleClass="alCenter w15">
                                        <h:outputText value="#{item.casonu}" />
                                    </p:column>
                                    <p:column headerText="Acciones" styleClass="alCenter w15">
                                        <p:commandButton icon="ui-icon-pencil" title="Editar"
                                            process="@this" update=":frmDialogInsumo:idMaterialInsumo"
                                            styleClass="primary"
                                            oncomplete="PF('idMaterialInsumo').show()"
                                            actionListener="#{fichaMineria020Controller.editarInsumos(item)}" />
                                        <p:commandButton icon="ui-icon-trash" title="Eliminar"
                                            process="@this" styleClass="primary"
                                            actionListener="#{fichaMineria020Controller.eliminarInsumos(item)}"
                                            update=":frmFicha020:tblInsumos" />
                                    </p:column>
                                </p:dataTable>
                            </p>
                    

                    <p>
                        <h:outputText
                            value="5. Indicar el manejo de residuos peligrosos y no peligrosos, registrar el tipo de residuos generados, cantidades, manejo y disposición final de los mismos." />
                    </p>
                    <p>
                        <p:dataTable id="tblDesechosNoPeligrosos"
                            value="#{fichaMineria020Controller.listadesechonopeligrosos}"
                            var="item" emptyMessage="#{labels['common.table.empty']}">
                            <f:facet name="header">
                                <h:outputText
                                    value="Registro de generación de residuos y desechos no peligrosos" />
                                <p:commandButton value="Adicionar"
                                    update=":frmDialogDesechoNoPeligroso:idDesechosNoPeligrosos"
                                    oncomplete="PF('idDesechosNoPeligrosos').show()"
                                    styleClass="primary"
                                    action="#{fichaMineria020Controller.nuevoDesechoNoPeligroso}"
                                    style="float:right;" />
                            </f:facet>

                            <p:column
                                headerText="Tipo de residuo/ desecho (Orgánico, Papel, Cartón, Plástico, Vidrio, etc.)"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.wasteType}" />
                            </p:column>
                            <p:column
                                headerText="Cantidad Generada aproximada /Mes (kg, ton, etc.)"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.value} #{item.unit}" />
                            </p:column>
                            <p:column headerText="Reducción, tratamiento"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.treatment}" />
                            </p:column>
                            <p:column headerText="Disposición Final"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.finalArrangement}" />
                            </p:column>
                            <p:column headerText="Acciones" styleClass="alCenter w15">
                                <p:commandButton icon="ui-icon-pencil" title="Editar"
                                    process="@this"
                                    update=":frmDialogDesechoNoPeligroso:idDesechosNoPeligrosos"
                                    styleClass="primary"
                                    oncomplete="PF('idDesechosNoPeligrosos').show()"
                                    actionListener="#{fichaMineria020Controller.editarDesechosNoPeligrosos(item)}" />
                                <p:commandButton icon="ui-icon-trash" title="Eliminar"
                                    process="@this" styleClass="primary"
                                    actionListener="#{fichaMineria020Controller.eliminarDesechosNoPeligrosos(item)}"
                                    update=":frmFicha020:tblDesechosNoPeligrosos" />
                            </p:column>
                        </p:dataTable>
                    </p>
                    <p>
                        <p:dataTable id="listadesechopeligrosos"
                            value="#{fichaMineria020Controller.listadesechopeligrosos}"
                            var="item" emptyMessage="#{labels['common.table.empty']}">
                            <f:facet name="header">
                                <h:outputText
                                    value="Registro de generación de desechos y residuos peligrosos y/o especiales" />
                                <p:commandButton value="Adicionar" process="@this"
                                    update=":frmDialog:idDesechosPeligrosos"
                                    oncomplete="PF('idDesechosPeligrosos').show()"
                                    styleClass="primary"
                                    action="#{fichaMineria020Controller.nuevoDesechoPeligroso}"
                                    style="float:right;" />
                            </f:facet>

                            <p:column headerText="Tipo de Desecho" styleClass="alCenter w15">
                                <h:outputText value="#{item.wasteType}" />
                            </p:column>
                            <p:column headerText="Código (AM NO. 142 o el que lo reemplace)"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.code}" />
                            </p:column>
                            <p:column headerText="CRTIB" styleClass="alCenter w15">
                                <h:outputText value="#{item.crtib}" />
                            </p:column>
                            <p:commandButton value="Guardar" update=":frmFicha020"
                                action="#{componenteSocialSDController.guardarDatos()}"
                                icon="ui-icon-disk" styleClass="primary" />
                            <p:column headerText="Cantidad Generada aproximada /Mes"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.value} #{item.unit}" />
                            </p:column>
                            <p:column headerText="Proceso o unidad operativa"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.process}" />
                            </p:column>
                            <p:column headerText="Tipo de Eliminación o Disposición final"
                                styleClass="alCenter w15">
                                <h:outputText value="#{item.finalArrangement}" />
                            </p:column>
                            <p:column headerText="Acciones" styleClass="alCenter w15">
                                <p:commandButton icon="ui-icon-pencil" title="Editar"
                                    process="@this" update=":frmDialog:idDesechosPeligrosos"
                                    styleClass="primary"
                                    oncomplete="PF('idDesechosPeligrosos').show()"
                                    actionListener="#{fichaMineria020Controller.editarDesechoPeligroso(item)}" />
                                <p:commandButton icon="ui-icon-trash" title="Eliminar"
                                    process="@this" styleClass="primary"
                                    actionListener="#{fichaMineria020Controller.eliminarDesechoPeligroso(item)}"
                                    update=":frmFicha020:listadesechopeligrosos" />
                            </p:column>
                        </p:dataTable>

                    </p>
                    <p>
                    <p><strong>NOTA:</strong>  Para la identificación de desechos peligrosos y/o especiales se recomienda verificar Listados Nacionales de Desechos Peligrosos y Especiales, oficializado con Acuerdo Ministerial No. 142 R.O. 856 del 21 de diciembre del 2012, dentro de los cuales se puede identificar los siguientes desechos:</p>
                        <table border="1" cellpadding="2" bordercolor="#000000" style="border-collapse:collapse;border-color:#000000;">                     
                            <tr>
                                <td>
                                    <p>
                                        <strong>Nombre del Desecho y/o Residuo</strong></p>
                                </td>
                                <td>
                                    <p>
                                        <strong>C&oacute;digo seg&uacute;n Acuerdo Ministerial No. 142</strong></p>
                                </td>
                                <td style="width: 50px;">
                                    <p>
                                        <strong>CRTIB</strong></p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Aceites y grasas minerales usados o gastados</p>
                                </td>
                                <td>
                                    <p>
                                        NE-03</p>
                                </td>
                                <td>
                                    <p>
                                        T, I</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Bater&iacute;as usadas que contengan Hg, Ni, Cd u otros materiales peligrosos y que exhiban caracter&iacute;sticas de peligrosidad.</p>
                                </td>
                                <td>
                                    <p>
                                        NE-08</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Chatarra contaminada con materiales peligrosos</p>
                                </td>
                                <td>
                                    <p>
                                        NE-09</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Desechos biopeligrosos activos resultantes de la atenci&oacute;n m&eacute;dica prestados en centros m&eacute;dicos de empresas</p>
                                </td>
                                <td>
                                    <p>
                                        NE-10</p>
                                </td>
                                <td>
                                    <p>
                                        B</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Luminarias, l&aacute;mparas, tubos fluorescentes, focos ahorradores usados que contengan mercurio</p>
                                </td>
                                <td>
                                    <p>
                                        NE-40</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Material adsorbente contaminado con hidrocarburos: waipes, pa&ntilde;os, trapos, aserr&iacute;n, barreras adsorbentes y otros materiales s&oacute;lidos adsorbentes</p>
                                </td>
                                <td>
                                    <p>
                                        NE-42</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Material adsorbente contaminado con sustancias qu&iacute;micas peligrosas: waipes, pa&ntilde;os, trapos, aserr&iacute;n, barreras adsorbentes y otros materiales s&oacute;lidos adsorbentes</p>
                                </td>
                                <td>
                                    <p>
                                        NE-43</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Hidrocarburos sucios o contaminados con otras sustancias</p>
                                </td>
                                <td>
                                    <p>
                                        NE-35</p>
                                </td>
                                <td>
                                    <p>
                                        T,I</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Suelos contaminados con materiales peligrosos</p>
                                </td>
                                <td>
                                    <p>
                                        NE-52</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Productos qu&iacute;micos caducados o fuera de especificaciones</p>
                                </td>
                                <td>
                                    <p>
                                        NE-48</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Envases contaminados con materiales peligrosos</p>
                                </td>
                                <td>
                                    <p>
                                        NE-27</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Equipo de protecci&oacute;n personal contaminado con materiales peligrosos</p>
                                </td>
                                <td>
                                    <p>
                                        NE-30</p>
                                </td>
                                <td>
                                    <p>
                                        T</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Aceites vegetales usados generados en procesos de fritura de alimentos</p>
                                </td>
                                <td>
                                    <p>
                                        ES - 07</p>
                                </td>
                                <td>
                                    <p></p>
                                </td>
                            </tr>                       
                    </table>
                    </p>
                    <p>
                        <h:outputText
                            value="6. Detallar el requerimiento de mano de obra calificada y no calificada, a quienes se contrata en lo local, cuántas personas, en qué funciones, y especificar los servicios complementarios, como alojamiento-campamentos, alimentación, etc." />
                    </p>
                    <p>
                        <control:imputConTextoEnriquecido
                            valor="#{fichaMineria020Controller.perforacionExplorativa.qualifiedHandWork}"/>
                    </p>

                    <p>
                        <h:outputText
                            value="7. Incluir un diagrama de flujo en base a las cantidades de uso de agua en las actividades del proyecto. El diagrama de flujo deberá contener los caudales de entrada, pérdidas, salida y recirculación. Cuando exista un proceso de recirculación, especificar la cantidad efectiva a recircular." />
                    </p>
                    <p>
                        <control:imputConTextoEnriquecido
                            valor="#{fichaMineria020Controller.perforacionExplorativa.baseFlowDiagram}"/>
                    </p>
                    </p:panelGrid>
                    <p:separator></p:separator>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(5)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w" />
                            <p:commandButton value="Guardar"
                                action="#{fichaMineria020Controller.guardar6}"
                                styleClass="primary" icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(7)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                <p:panel header="7. REQUERIMIENTOS DEL PROYECTO" rendered="#{fichaMineria020Controller.index==7}">
                    <p:panelGrid style="width: 100%;">
                        <p:row>
                            <p:column>
                                <h:outputText value="Agua de Consumo Humano:"/>
                            </p:column>
                            <p:column>
                                <p:selectOneRadio value="#{fichaMineria020Controller.perforacionExplorativa.waterHumanConsumption}">
                                    <f:selectItem itemLabel="SI" itemValue="true" />
                                    <f:selectItem itemLabel="NO" itemValue="false" />
                                    <p:ajax update="waterHumanConsumption" event="change" listener="#{fichaMineria020Controller.resetValue('waterHumanConsumption')}"/>                                 
                                </p:selectOneRadio>
                            </p:column>
                            <p:column>
                                <h:outputText value="Consumo de agua doméstico(l/s) cuantificación de agua al día: "/>
                            </p:column>
                            <p:column>
                                <p:inputText id="waterHumanConsumption" value="#{fichaMineria020Controller.perforacionExplorativa.waterConsumption}" maxlength="10" 
                                disabled="#{!fichaMineria020Controller.perforacionExplorativa.waterHumanConsumption}">
                                    <pe:keyFilter regEx="/[\d\.]/"/>
                                </p:inputText>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Agua para perforación:" />
                            </p:column>
                            <p:column>
                                <p:selectOneRadio value="#{fichaMineria020Controller.perforacionExplorativa.waterDrilling}">
                                    <f:selectItem itemLabel="SI" itemValue="true" />
                                    <f:selectItem itemLabel="NO" itemValue="false" />
                                    <p:ajax update="waterDrilling" event="change" listener="#{fichaMineria020Controller.resetValue('waterDrilling')}"/>
                                </p:selectOneRadio>
                            </p:column>
                            <p:column>
                                <h:outputText value="Consumo de agua para perforación(l/s):"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="waterDrilling" value="#{fichaMineria020Controller.perforacionExplorativa.waterConsumptionDrilling}" maxlength="10"
                                disabled="#{!fichaMineria020Controller.perforacionExplorativa.waterDrilling}">
                                    <pe:keyFilter regEx="/[\d\.]/" />
                                </p:inputText>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Energía Eléctrica:"/>
                            </p:column>
                            <p:column>
                                <p:selectOneRadio value="#{fichaMineria020Controller.perforacionExplorativa.electricPower}">
                                    <f:selectItem itemLabel="SI" itemValue="true" />
                                    <f:selectItem itemLabel="NO" itemValue="false" />
                                    <p:ajax update="electricPower" event="change" listener="#{fichaMineria020Controller.resetValue('electricPower')}"/>
                                </p:selectOneRadio>
                            </p:column>
                            <p:column>
                                <h:outputText value="Consumo de energía eléctrica (kW):"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="electricPower" value="#{fichaMineria020Controller.perforacionExplorativa.electricPowerConsumption}" maxlength="10"
                                disabled="#{!fichaMineria020Controller.perforacionExplorativa.electricPower}">
                                    <pe:keyFilter regEx="/[\d\.]/" />
                                </p:inputText>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Consumo combustible:"/>
                            </p:column>
                            <p:column>
                                <p:selectOneRadio value="#{fichaMineria020Controller.perforacionExplorativa.fuelConsumption}">
                                    <f:selectItem itemLabel="SI" itemValue="true" />
                                    <f:selectItem itemLabel="NO" itemValue="false" />
                                    <p:ajax update="fuelConsumption" event="change" listener="#{fichaMineria020Controller.resetValue('fuelConsumption')}"/>
                                </p:selectOneRadio>
                            </p:column>
                            <p:column>
                                <h:outputText value="Consumo y tipo de combustible:"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="fuelConsumption" value="#{fichaMineria020Controller.perforacionExplorativa.fuelTypeConsumption}" maxlength="50"
                                disabled="#{!fichaMineria020Controller.perforacionExplorativa.fuelConsumption}"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:separator></p:separator>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(6)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>
                            <p:commandButton value="Guardar"
                                action="#{fichaMineria020Controller.guardar7}"
                                icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(8)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                
                <p:panelGrid columns="1" layout="grid" styleClass="w100" rendered="#{fichaMineria020Controller.index==8}">
                    <f:facet name="header">
                        <mae:panelGridHeaderHelp value="8. AREA DE INFLUENCIA" conector="generalHelp" help="#{helps['registroMineria.areainfluecia.social']}" />
                    </f:facet>
                
                    <p:accordionPanel multiple="true">
                        <p:tab title="8.1 ÁREA DE INFLUENCIA DIRECTA (AID)">
                            <p:accordionPanel multiple="true">
                                <p:tab title="8.1.1 FÍSICA">
                                    <p><control:imputConTextoEnriquecido valor="#{fichaMineria020Controller.perforacionExplorativa.directPhysicalInfluence}"/></p>
                                </p:tab>
                            </p:accordionPanel>
                
                            <p:accordionPanel multiple="true">
                                <p:tab title="8.1.2 BIÓTICA">
                                    <p><control:imputConTextoEnriquecido valor="#{fichaMineria020Controller.perforacionExplorativa.directBioticInfluence}"/></p>
                                </p:tab>
                            </p:accordionPanel>
                
                            <p:accordionPanel multiple="true">
                                <p:tab title="8.1.3 SOCIAL">
                                    <p><control:imputConTextoEnriquecido valor="#{fichaMineria020Controller.perforacionExplorativa.directSocialInfluence}"/></p>
                                </p:tab>
                            </p:accordionPanel>
                        </p:tab>
                    </p:accordionPanel>
                
                    <p:accordionPanel multiple="true">
                        <p:tab title="8.2 ÁREA DE INFLUENCIA INDIRECTA (AII)">
                            <!-- Acordeón para Área de Influencia Indirecta Social -->
                            <p:accordionPanel multiple="true">
                                <p:tab title="8.2.1 FÍSICA">
                                    <p><control:imputConTextoEnriquecido valor="#{fichaMineria020Controller.perforacionExplorativa.indirectPhysicalInfluence}"/></p>
                                </p:tab>
                            </p:accordionPanel>
                            
                            <p:accordionPanel multiple="true">
                                <p:tab title="8.2.2 BIÓTICA">
                                    <p><control:imputConTextoEnriquecido valor="#{fichaMineria020Controller.perforacionExplorativa.indirectBioticInfluence}"/></p>
                                </p:tab>
                            </p:accordionPanel>
                            
                            <p:accordionPanel multiple="true">
                                <p:tab title="8.2.3 SOCIAL">
                                    <p><control:imputConTextoEnriquecido valor="#{fichaMineria020Controller.perforacionExplorativa.indirectSocialInfluence}"/></p>
                                </p:tab>
                            </p:accordionPanel>
                        </p:tab>
                    </p:accordionPanel>
                </p:panelGrid>
                <p:panel rendered="#{fichaMineria020Controller.index==8}">
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(7)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>
                            <p:commandButton value="Guardar"
                                action="#{fichaMineria020Controller.guardar8}"
                                icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" update=":frmFicha020"
                                action="#{fichaMineria020Controller.activeIndex(9)}"
                                icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                <p:panel header="9. LINEA BASE" rendered="#{fichaMineria020Controller.index==9}">
                	<p:outputPanel>
                        <p:panel header="9.1 COMPONENTE FÍSICO">
                            <p:panelGrid columns="3" layout="grid" styleClass="w100" columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Clima" />
                                </f:facet>
                                
                                <h:panelGrid columns="3" cellpadding="5" styleClass="w100" columnClasses="field_mrg w40, field_mrg w35, w25">
                                <p:outputLabel value="Precipitación Anual:" for="precipitacion" />
                                <p:inputText id="precipitacion" maxlength="4" required="true" requiredMessage="El campo Precipitación Anual es obligatorio."
                                    value="#{componenteFisicoController.componenteFisico.precipitacionAnual}">
                                <pe:keyFilter regEx="/[0-9_]/i" />
                                </p:inputText>                              
                                <p:outputLabel value="mm"/>
                                
                                <p:outputLabel value="Temperatura media anual:"
                                    for="temperatura" />
                                <p:inputText id="temperatura" maxlength="2" required="true" requiredMessage="El campo Temperatura media anual es obligatorio"
                                    value="#{componenteFisicoController.componenteFisico.temperaturaMediaAnual}">
                                    <pe:keyFilter regEx="/[0-9_]/i" />
                                    </p:inputText>
                                    <h:outputLabel value="°C" />
                                </h:panelGrid>
                            </p:panelGrid>

                            <p:panelGrid columns="3" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Altitud" />
                                </f:facet>
                                
                                <h:panelGrid columns="3" cellpadding="5" styleClass="w100" columnClasses="null, field_mrg null, null">
                                
                                <p:outputLabel value="Altitud" for="altitud" />
                                <p:inputText id="altitud" maxlength="4" value="#{componenteFisicoController.componenteFisico.altitud}"
                                    required="true" requiredMessage="El campo Altitud es obligatorio">
                                <pe:keyFilter regEx="/[0-9_]/i" />
                                </p:inputText>
                                <h:outputLabel value="msnm" />
                            </h:panelGrid>

                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <mae:panelGridHeaderHelp value="Componente Hídrico *"
                                        conector="generalHelp"
                                        help="Colocar los nombres de los ríos, quebradas y otro cuerpo hídrico existente en el 
                                                     proyecto o concesión minera, sustentado en el mapa hidrológico que se adjunte en 
                                                     formato pdf en los anexos." />
                                </f:facet>
                                <p:outputLabel value="Componente hídrico:" for="componenteHidrico" />

                                <control:imputConTextoEnriquecido
                                    valor="#{componenteFisicoController.componenteFisico.componenteHidrico}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo componente hídrico es requerido" id="componenteHidrico" />

                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <mae:panelGridHeaderHelp value="Geomorfología *"
                                        conector="generalHelp"
                                        help="Se refiere al ángulo de inclinación de las vertientes, 
                                                     con respecto a la horizontal. Está expresado en porcentaje" />
                                </f:facet>
                                <p:dataTable id="pendiente" var="pendiente"
                                    tableStyle="border:0px; width:300px"
                                    emptyMessage="No existen registros"
                                    value="#{componenteFisicoController.pendienteSuelo}"
                                    selection="#{componenteFisicoController.pendientesSeleccionadas}"
                                    rowKey="#{pendiente.id}" style="margin-bottom:0">
                                    <p:column headerText="Pendiente"
                                        style="width:75px; text-align:right">
                                        <h:outputText value="#{pendiente.descripcion}" />
                                    </p:column>
                                    <p:column style="width:25px;text-align:center">
                                        <p:selectBooleanCheckbox value="#{pendiente.seleccionado}">
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>

                        </p:panel>
                    </p:outputPanel>

                    <p:outputPanel>
                        <p:panel>
                        <f:facet name="header">
                        <mae:panelGridHeaderHelp value="9.2 COMPONENTE BIÓTICO"
                                                 conector="areaInfluencia"
                                                 help="#{componenteBioticoSDController.mensajeBiotico}" />
                        </f:facet>
                        
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Cobertura Vegetal *" />
                                </f:facet>
                                <p:dataTable var="cobertura"
                                    value="#{componenteBioticoSDController.coberturaVegetalPadreList}">
                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column headerText="" />
                                            <p:column headerText="Marcar" />
                                        </p:row>
                                    </p:columnGroup>
                                    <p:subTable var="coberturaHija"
                                        value="#{cobertura.catalogoGeneralBioticoList}">
                                        <f:facet name="header">
                                            <center>
                                                <h:outputText id="itemDescripcion"
                                                    value="#{cobertura.descripcion}" />
                                            </center>
                                        </f:facet>
                                        <p:column style="width:35px;text-align:center">
                                            <p:outputLabel value="#{coberturaHija.descripcion}"></p:outputLabel>
                                        </p:column>
                                        <p:column style="width:25px;text-align:center">
                                            <p:selectBooleanCheckbox
                                                value="#{coberturaHija.seleccionado}">
                                            </p:selectBooleanCheckbox>
                                        </p:column>
                                    </p:subTable>
                                </p:dataTable>
                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Pisos Zoogeográficos *" />
                                </f:facet>
                                <p:dataTable var="piso"
                                    value="#{componenteBioticoSDController.pisosZooGeograficosList}"
                                    rowIndexVar="index">
                                    <p:column headerText="No." style="width:5px;">
                                        <p:outputLabel value="#{index + 1}"></p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Pisos Zoogeográficos">
                                        <p:outputLabel value="#{piso.descripcion}"></p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Simbología">
                                        <p:outputLabel value="#{piso.ayuda}"></p:outputLabel>
                                    </p:column>
                                    <p:column style="width:35px;text-align:center"
                                        headerText="Marcar">
                                        <p:selectBooleanCheckbox value="#{piso.seleccionado}">
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Componente biótico nativo *" />
                                </f:facet>
                                <p:dataTable var="nativo" rowIndexVar="rowIndex"
                                    value="#{componenteBioticoSDController.componenteBioticoNativoList}">
                                    <p:column headerText="No." style="width:5px;">
                                        <p:outputLabel value="#{rowIndex + 1}"></p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Componentes Bióticos nativos">
                                        <p:outputLabel value="#{nativo.descripcion}"></p:outputLabel>
                                    </p:column>
                                    <p:column style="width:35px;text-align:center"
                                        headerText="Marcar">
                                        <p:selectBooleanCheckbox value="#{nativo.seleccionado}">
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Componente biótico introducido *" />
                                </f:facet>
                                <p:dataTable var="introducido" rowIndexVar="index"
                                    value="#{componenteBioticoSDController.componenteBioticoIntroducidoList}">
                                    <p:column headerText="No." style="width:5px;">
                                        <p:outputLabel value="#{index + 1}"></p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Componentes Bióticos introducidos">
                                        <p:outputLabel value="#{introducido.descripcion}"></p:outputLabel>
                                    </p:column>
                                    <p:column style="width:35px;text-align:center"
                                        headerText="Marcar">
                                        <p:selectBooleanCheckbox value="#{introducido.seleccionado}">
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Aspectos ecológicos *" />
                                </f:facet>
                                <p:dataTable var="aspecto" rowIndexVar="index"
                                    value="#{componenteBioticoSDController.aspectosEcologicosList}">
                                    <p:column headerText="No." style="width:5px;">
                                        <p:outputLabel value="#{index + 1}"></p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Aspectos ecológicos">
                                        <p:outputLabel value="#{aspecto.descripcion}"></p:outputLabel>
                                    </p:column>
                                    <p:column style="width:35px;text-align:center"
                                        headerText="Marcar">
                                        <p:selectBooleanCheckbox value="#{aspecto.seleccionado}">
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <p:outputLabel value="Áreas Sensibles *" />
                                </f:facet>
                                <p:dataTable var="area" rowIndexVar="index"
                                    value="#{componenteBioticoSDController.areasSensiblesList}">
                                    <p:column headerText="No." style="width:5px;">
                                        <p:outputLabel value="#{index + 1}"></p:outputLabel>
                                    </p:column>
                                    <p:column headerText="Áreas Sensibles">
                                        <p:outputLabel value="#{area.descripcion}"></p:outputLabel>
                                    </p:column>
                                    <p:column style="width:35px;text-align:center"
                                        headerText="Marcar">
                                        <p:selectBooleanCheckbox value="#{area.seleccionado}">
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>

                        </p:panel>
                    </p:outputPanel>

                    <p:outputPanel>
                        <p:panel>
                            <f:facet name="header">
                                <mae:panelGridHeaderHelp value="9.3 COMPONENTE SOCIAL"
                                    conector="componenteSocial"
                                    help="Definir en este numeral los siguientes aspectos de manera bibliográfica. *En este numeral
                                                 la caracterización socio-económica se realizará a nivel del AIIS sobre la base de información secundaria 
                                                 (INEC, PDOT, SIISE, entre otros.)" />
                            </f:facet>

                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">

                                <f:facet name="header">
                                    <mae:panelGridHeaderHelp
                                        value="1. #{msg['label.componente.social.1']}"
                                        conector="social1"
                                        help="Señalar mediante tablas la siguiente información: AID: Ubicación Política Administrativa  (comunidad, barrio, sector, recinto, cooperativa) Propietarios; Actividad del Proyecto. AII: Ubicación Política Administrativa (parroquia/ cantón/ comunidad), Circunscripciones territoriales (indígenas, áreas intangibles, áreas protegidas, mancomunidades, áreas/ programa socio bosque, áreas de reserva de biosfera), Intersección con actividades del proyecto. )" />
                                </f:facet>

                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.comunidades}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.1']} es requerido."
                                    id="comunidad" />
                            </p:panel>      
                            
                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <h:outputLabel value="2. #{msg['label.componente.social.2']}" style="color: #000;"
                                        for="poblacion" />
                                </f:facet>
                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.poblaciones}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.2']} es requerido."
                                    id="poblacion" />

                            </p:panel>


                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <mae:panelGridHeaderHelp
                                        value="3. #{msg['label.componente.social.3']}"
                                        conector="social3"
                                        help="Incluir la información en una tabla que contenga los siguientes elementos: Ubicación Política Administrativa (parroquia/ cantón/ comunidad); Propietarios; Modalidad de negociación; Ocupación del predio/ ha, Intersección con actividades del proyecto. " />
                                </f:facet>
                                <p:outputLabel for="predio" />

                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.predios}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.3']} es requerido."
                                    id="predio" />

                            </p:panel>

                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <mae:panelGridHeaderHelp
                                        value="4. #{msg['label.componente.social.4']}"
                                        conector="social4"
                                        help="Incluir la información en una tabla que contenga los siguientes elementos: Ubicación Política Administrativa (parroquia/ cantón/ comunidad); Uso de vías (principal, secundarias, nuevas); Infraestructura comunitaria (organizativa, recreativa); Infraestructura de servicios (centros educativos, centros de salud/ dispensarios médicos; plantas de servicios (agua y luz), Intersección con actividades del proyecto." />

                                </f:facet>


                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.infraestructura}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.4']} es requerido."
                                    id="infraestructura" />

                            </p:panel>

                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <h:outputLabel value="5. #{msg['label.componente.social.5']}" style="color: #000;"
                                        for="asentamientos" />
                                </f:facet>

                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.asentamientosGruposEtnicos}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.5']} es requerido."
                                    id="asentamientos" />
                            </p:panel>

                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <mae:panelGridHeaderHelp
                                        value="6. #{msg['label.componente.social.6']}"
                                        conector="social6"
                                        help="Incluir la información en una tabla que contenga los siguientes elementos: Ubicación Política Administrativa: (parroquia/ cantón/ comunidad); Intersección con actividades del proyecto." />
                                </f:facet>
                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.infraestructuraSaludPublica}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.6']} es requerido."
                                    id="infSalud" />
                            </p:panel>

                            <p:panel columns="1" layout="grid" styleClass="w100"
                                columnClasses="w100, field_mrg w100">
                                <f:facet name="header">
                                    <h:outputLabel value="7. #{msg['label.componente.social.7']}"
                                        for="elementosCulturales"  style="color: #000;"/>
                                </f:facet>

                                <control:imputConTextoEnriquecido
                                    valor="#{componenteSocialSDController.componenteSocial.elementosCulturales}"
                                    soloLectura="false" requerido="true"
                                    requiredMessage="El campo #{msg['label.componente.social.7']} es requerido."
                                    id="elementosCulturales" />

                            </p:panel>
                            
                            <p>* En este numeral la caracterización socio-económica se realizará a nivel del AIIS sobre la base de información secundaria (INEC, PDOT, SIISE, entre otros).</p>
                            <p>* En caso de que en el GAD no cuente con información levantada referente al levantamiento de los catastros remitir en cada informe de cumplimiento la fe de requerimiento realizado.</p>

                            <p:separator></p:separator>
                            <f:facet name="footer">
                                <t:div styleClass="buttons main">
                                    <p:commandButton value="Atrás"
                                        action="#{fichaMineria020Controller.activeIndex(8)}"
                                        update=":frmFicha020" icon="ui-icon-arrowthick-1-w" />
                                    <p:commandButton value="Guardar" update=":frmFicha020"
                                        action="#{componenteSocialSDController.guardarDatos()}"
                                        icon="ui-icon-disk" />
                                    <p:commandButton value="Siguiente" update=":frmFicha020"
                                        action="#{fichaMineria020Controller.activeIndex(10)}"
                                        icon="ui-icon-arrowthick-1-e" />
                                </t:div>
                            </f:facet>
                        </p:panel>
                    </p:outputPanel>
                </p:panel>
                
                <p:panel header="10. MARCO LEGAL"
                    rendered="#{fichaMineria020Controller.index==10}">
                    <ui:include src="marcolegal.xhtml" />
                    <p:separator></p:separator>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(9)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w" />
                            <p:commandButton value="Guardar"
                                action="#{fichaMineria020Controller.guardar10}"
                                icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente"
                                action="#{fichaMineria020Controller.activeIndex(11)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>
                <p:panel header="11. DESCRIPCIÓN DE ACTIVIDADES E IDENTIFICACIÓN DE IMPACTOS AMBIENTALES" rendered="#{fichaMineria020Controller.index==11}">
                    <ui:include src="ingresoActividadImpactoSD.xhtml" />
                </p:panel>
                <p:panel header="12. PLAN DE MANEJO AMBIENTAL"
                    rendered="#{fichaMineria020Controller.index==12}">
                    <p:outputPanel id="frmPMA020">
                        <p:panel style="border: none;">
                            <br />
                            <p:outputLabel
                                value="Todas los subplanes del plan manejo ambiental, así como las medidas propuestas, indicadores, medios de verificación y frecuencia deben ser cumplidos en su totalidad y de manera obligatoria por el titular minero."></p:outputLabel>
                            <br />
                            <br />
                            <p:outputLabel
                                value="* Las medidas propuestas, indicadores, medios de verificación y frecuencia no son modificables, en caso de requerir nuevas medidas puede incluir en el subplan correspondiente."></p:outputLabel>
                            
                            <p:accordionPanel activeIndex="-1">
                                <c:forEach var="actividad1" begin="0"
                                    items="#{planManejoAmbiental020Controller.parameters}">
                                    <p:tab title="#{actividad1.key}">
                                        <p:dataTable  var="plan" value="#{actividad1.value}"
                                            style="border: none;"
                                            emptyMessage="#{labels['common.table.empty']}">
                                            <f:facet name="header">#{actividad1.key}
                                                <p:commandButton value="Adicionar"
                                                    styleClass="button-small-text toRight field_mrg"
                                                    icon="ui-icon-plusthick"
                                                    update=":formDetallePlan:dlgActividad" immediate="true"
                                                    action="#{planManejoAmbiental020Controller.adicionar(actividad1.key)}"
                                                    oncomplete="PF('dlgActividad').show();">
                                                </p:commandButton>
                                            </f:facet>
                                            <p:columnGroup type="header">
                                                <p:row>
                                                    <p:column headerText="MEDIDAS PROPUESTAS" />
                                                    <p:column headerText="INDICADOR" />
                                                    <p:column headerText="MEDIO DE VERIFICACIÓN" />
                                                    <p:column headerText="FRECUENCIA" styleClass="alLeft" />
                                                    <p:column headerText="PRESUPUESTO" styleClass="alCenter" />
                                                    <p:column headerText="ACCION" styleClass="alCenter" />
                                                </p:row>
                                            </p:columnGroup>
                                            <p:column style="text-align: justify"
                                                rendered="#{(plan.descripcion eq 'Otros' or plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                <f:facet name="header">
                                                    <h:outputText value="MEDIDAS PROPUESTAS" />
                                                </f:facet>
                                                <h:outputText
                                                    style="text-align: justify !important; white-space: pre-line;   word-wrap: break-word;"
                                                    escape="false"
                                                    value="#{(plan.planManejoAmbiental020 eq null)?plan.medidasPropuestas:plan.planManejoAmbiental020.medidasPropuestas}" />
                                            </p:column>
                                            <p:column style="text-align: justify"
                                                rendered="#{(plan.descripcion eq 'Otros' or plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                <f:facet name="header">
                                                    <h:outputText value="INDICADOR" />
                                                </f:facet>
                                                <h:outputText
                                                    value="#{(plan.planManejoAmbiental020 eq null)?plan.indicador:plan.planManejoAmbiental020.indicador}" />
                                            </p:column>
                                            <p:column style="text-align: justify"
                                                rendered="#{(plan.descripcion eq 'Otros' or plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                <f:facet name="header">
                                                    <h:outputText value="MEDIO DE VERIFICACIÓN" />
                                                </f:facet>
                                                <h:outputText
                                                    value="#{(plan.planManejoAmbiental020 eq null)?plan.verificacionMedios:plan.planManejoAmbiental020.verificacionMedios}" />
                                            </p:column>
                                            <p:column style="text-align: justify"
                                                rendered="#{(plan.descripcion eq 'Otros' or plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                <f:facet name="header">
                                                    <h:outputText value="FRECUENCIA" />
                                                </f:facet>
                                                <h:outputText
                                                    value="#{(plan.planManejoAmbiental020 eq null)?plan.frecuencia:plan.planManejoAmbiental020.frecuencia}" />
                                            </p:column>
                                            <p:column styleClass="alCenter" colspan="6"
                                                rendered="#{plan.descripcion ne 'Otros' and  !(plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                <strong> <h:outputText
                                                        value="#{(plan.planManejoAmbiental020 eq null)?plan.descripcion:plan.planManejoAmbiental020.descripcion}" />
                                                </strong>
                                            </p:column>

                                            <p:column styleClass="alCenter" colspan="6"
                                                rendered="#{plan.planManejoAmbiental020.id  eq 125}">
                                                <p style="text-align: justify">#{plan.planManejoAmbiental020.medidasPropuestas}</p>
                                            </p:column>
                                            <p:column styleClass="alCenter" colspan="6"
                                                rendered="#{plan.planManejoAmbiental020.id  eq 77}">
                                                <p style="text-align: justify">#{plan.planManejoAmbiental020.medidasPropuestas}</p>
                                                <p>Formato de aplicación de medidas de minimización de
                                                    residuos- desechos peligrosos y/o especiales</p>
                                                <p:dataTable emptyMessage="">
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Nombre del Residuo-desecho" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Código del residuo-desecho" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText
                                                                value="Justificación de selección del residuo-desecho." />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Acción Propuesta" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Meta en % " />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Costos de implementación /anual " />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText
                                                                value="Generación Anual del residuo-desecho (t)" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText
                                                                value="dentificación de Material Prima que interviene en el proceso" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText
                                                                value="Cantidad anual de materia prima que interviene en el proceso (t)" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText
                                                                value="Proyección de disminución de generación del residuo- desechos anual (t)" />
                                                        </f:facet>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Observaciones" />
                                                        </f:facet>
                                                    </p:column>
                                                </p:dataTable>
                                            </p:column>
                                            <p:column
                                                rendered="#{(plan.descripcion eq 'Otros' or plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                 <pe:inputNumber value="#{plan.calificacion}" id="txt_calificacion"
                                                    rendered="#{plan.planManejoAmbiental020 ne null}"
                                                    converterMessage="Se debe ingresar un número"
                                                    validatorMessage="El campo Presupuesto' no se encuentra entre los valores permitidos, debe ser mayor que 0 y menor que 999999.99."
                                                    requiredMessage="El campo 'Presupuesto' es requerido."                                                                                                       
                                                    decimalPlaces="2" maxValue="999999.99"                                                   
                                                    required="true" styleClass="inputOnDataTable">
                                                    <f:validateDoubleRange minimum="0.1" />
                                                    <p:ajax update="txt_calificacion" /> 
                                                </pe:inputNumber>
                                                
                                                <h:outputText  
                                                    rendered="#{plan.planManejoAmbiental020 eq null}"
                                                    value="#{plan.calificacion}" />
                                            </p:column>
                                            <p:column
                                                rendered="#{(plan.descripcion eq 'Otros' or plan.planManejoAmbiental020.descripcion eq '') and (plan.planManejoAmbiental020 eq null or plan.planManejoAmbiental020.editable)}">
                                                <p:commandButton title="Editar" icon="ui-icon-pencil"
                                                    styleClass="primary button-small"
                                                    rendered="#{plan.planManejoAmbiental020 eq null}"
                                                    actionListener="#{planManejoAmbiental020Controller.editar(plan)}"
                                                    update=":formDetallePlan:dlgActividad" immediate="true"
                                                    oncomplete="PF('dlgActividad').show();">
                                                </p:commandButton>
                                                <p:commandButton update=":frmFicha020:frmPMA020"
                                                    styleClass="button-small primary" process="@this"
                                                    icon="ui-icon-circle-close"
                                                    rendered="#{plan.planManejoAmbiental020 eq null}"
                                                    actionListener="#{planManejoAmbiental020Controller.eliminar(plan)}">
                                                    <p:confirm header="Confirmación"
                                                        message="¿Está seguro que desea eliminar este plan?"
                                                        icon="ui-icon-alert" />
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>
                                    </p:tab>
                                </c:forEach>
                            </p:accordionPanel>

                            <p:separator></p:separator>
                            <f:facet name="footer">
                                <t:div styleClass="buttons main">
                                    <p:commandButton value="Atrás"
                                        action="#{fichaMineria020Controller.activeIndex(11)}"
                                        update=":frmFicha020" icon="ui-icon-arrowthick-1-w" />
                                    <p:commandButton value="Guardar" icon="ui-icon-disk"
                                        update=":frmFicha020:frmPMA020"
                                        action="#{planManejoAmbiental020Controller.guardar()}">
                                    </p:commandButton>
                                    <p:commandButton value="Siguiente"
                                        action="#{fichaMineria020Controller.activeIndex(13)}"
                                        update=":frmFicha020" icon="ui-icon-arrowthick-1-e" />
                                </t:div>
                            </f:facet>
                        </p:panel>
                    </p:outputPanel>
                </p:panel>
                
                <p:panel header="13. CRONOGRAMA VALORADO" rendered="#{fichaMineria020Controller.index==13}">
                    <p:panelGrid columns="1" layout="grid" styleClass="w100" id="panelGridCronograma">
                        <p:dataTable id="tablaCronograma" value="#{fichaMineria020Controller.listaCronogramaPma}" var="ide"
                            paginator="true" rows="10" paginatorPosition="bottom"
                            emptyMessage="#{labels['common.table.empty']}" paginatorAlwaysVisible="false">
                            <f:facet name="header">
                                Cronograma valorado
                            </f:facet>
                
                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column headerText="Nombre del Plan" width="400" />
                                    <p:column headerText="Total costo por Plan" width="100" />
                                </p:row>
                            </p:columnGroup>
                            <p:column>
                                <h:outputText value="#{ide.tipoPlanManejoAmbiental.tipo}" />
                            </p:column>
                            <p:column styleClass="w100 alRight">
                                <p:outputLabel id="presupuesto" maxlength="10" value="#{ide.budget}" />
                            </p:column>
                            <p:columnGroup id="total" type="footer">
                                <p:row>
                                    <p:column style="text-align: right; font-weight: bold;" footerText="Costo total:" />
                                    <p:column style="text-align: right; font-weight: bold;" footerText="#{fichaMineria020Controller.total}" />
                                </p:row>
                            </p:columnGroup>
                        </p:dataTable>
                    </p:panelGrid>
                    <p:separator></p:separator>
                
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás" action="#{fichaMineria020Controller.activeIndex(12)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>
                            <p:commandButton value="Guardar" action="#{fichaMineria020Controller.guardarCronograma}"
                                icon="ui-icon-disk" />
                            <p:commandButton value="Siguiente" action="#{fichaMineria020Controller.activeIndex(14)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>

                <p:panel id="idAnexos" header="14. ANEXOS" rendered="#{fichaMineria020Controller.index==14}">
                    <p:outputPanel>
                    <h:outputText value="Los documentos a adjuntar deben estar en formato .pdf, se sugiere que cada uno de los archivos tenga un máximo de 20MB, para lograr una subida óptima de sus archivos" />
                    <br/><br/>
                    <p:accordionPanel>
                        <p:tab title="14.1 Título minero">
                        <p:fileUpload id="fileTituloMinero" multiple="false"
                        fileUploadListener="#{componenteSocialSDController.uploadTituloMinero}"
                        sizeLimit="20971520" allowTypes="/(\.|\/)(rar|pdf)$/"
                        label="Añadir" uploadLabel="Subir"
                        invalidFileMessage="Tipo de archivo no válido"
                        invalidSizeMessage="Debe adjuntar un archivo no mayor de 20 MB."
                        cancelLabel="Cancelar" mode="advanced" dragDropSupport="false"
                        auto="true" required="true"
                        update="tblTituloMinero" />
                        <p:dataTable id="tblTituloMinero" styleClass="w100 alcenter"
                            value="#{componenteSocialSDController.listaTituloMinero}"
                            var="documento" emptyMessage="#{labels['common.table.empty']}">
                            <p:column headerText="Documento">
                                <h:outputText value="#{documento.nombreDocumento}" />
                            </p:column>
                            <p:column headerText="Acciones" styleClass="w70px alCenter">
                                <p:commandButton icon="ui-icon-arrowthick-1-s" styleClass="primary"
                                title="Descargar" ajax="false" immediate="true">
                                <p:fileDownload value="#{componenteSocialSDController.descargarDocumento(documento)}" />
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-trash" title="Eliminar" process="@this" styleClass="primary"
                                    actionListener="#{componenteSocialSDController.eliminarTituloMinero(documento)}"
                                    update="tblTituloMinero" />
                            </p:column>
                        </p:dataTable>
                        </p:tab>
                        
                        <p:tab title="14.2 Garantía Bancaria / Póliza Bancaria">
                        <p:fileUpload id="fileGarantia" multiple="false"
                        fileUploadListener="#{componenteSocialSDController.uploadGarantia}"
                        sizeLimit="20971520" allowTypes="/(\.|\/)(rar|pdf)$/"
                        label="Añadir" uploadLabel="Subir"
                        invalidFileMessage="Tipo de archivo no válido"
                        invalidSizeMessage="Debe adjuntar un archivo no mayor de 20 MB."
                        cancelLabel="Cancelar" mode="advanced" dragDropSupport="false"
                        auto="true" required="true"
                        update="tblGarantia" />
                        <p:dataTable id="tblGarantia" styleClass="w100 alcenter"
                            value="#{componenteSocialSDController.listaGarantia}"
                            var="documento" emptyMessage="#{labels['common.table.empty']}">
                            <p:column headerText="Documento">
                                <h:outputText value="#{documento.nombreDocumento}" />
                            </p:column>
                            <p:column headerText="Acciones" styleClass="w70px alCenter">
                                <p:commandButton icon="ui-icon-arrowthick-1-s" styleClass="primary"
                                title="Descargar" ajax="false" immediate="true">
                                <p:fileDownload value="#{componenteSocialSDController.descargarDocumento(documento)}" />
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-trash" title="Eliminar" process="@this" styleClass="primary"
                                    actionListener="#{componenteSocialSDController.eliminarGarantia(documento)}"
                                    update="tblGarantia" />
                            </p:column>
                        </p:dataTable>
                        </p:tab>
                        
                        <p:tab title="14.3 Declaración Juramentada">
                        <p:fileUpload id="fileDeclaracion" multiple="false"
                        fileUploadListener="#{componenteSocialSDController.uploadDeclaracion}"
                        sizeLimit="20971520" allowTypes="/(\.|\/)(rar|pdf)$/"
                        label="Añadir" uploadLabel="Subir"
                        invalidFileMessage="Tipo de archivo no válido"
                        invalidSizeMessage="Debe adjuntar un archivo no mayor de 20 MB."
                        cancelLabel="Cancelar" mode="advanced" dragDropSupport="false"
                        auto="true" required="true"
                        update="tblDeclaracion" />
                        <p:dataTable id="tblDeclaracion" styleClass="w100 alcenter"
                            value="#{componenteSocialSDController.listaDeclaracion}"
                            var="documento" emptyMessage="#{labels['common.table.empty']}">
                            <p:column headerText="Documento">
                                <h:outputText value="#{documento.nombreDocumento}" />
                            </p:column>
                            <p:column headerText="Acciones" styleClass="w70px alCenter">
                                <p:commandButton icon="ui-icon-arrowthick-1-s" styleClass="primary"
                                title="Descargar" ajax="false" immediate="true">
                                <p:fileDownload value="#{componenteSocialSDController.descargarDocumento(documento)}" />
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-trash" title="Eliminar" process="@this" styleClass="primary"
                                    actionListener="#{componenteSocialSDController.eliminarDeclaracion(documento)}"
                                    update="tblDeclaracion" />
                            </p:column>
                        </p:dataTable>
                        </p:tab>
                        
                        <p:tab title="14.4 Facturas de pagos administrativos">
                        <p:fileUpload id="fileFacturas" multiple="false"
                        fileUploadListener="#{componenteSocialSDController.uploadFacturas}"
                        sizeLimit="20971520" allowTypes="/(\.|\/)(rar|pdf)$/"
                        label="Añadir" uploadLabel="Subir"
                        invalidFileMessage="Tipo de archivo no válido"
                        invalidSizeMessage="Debe adjuntar un archivo no mayor de 20 MB."
                        cancelLabel="Cancelar" mode="advanced" dragDropSupport="false"
                        auto="true" required="true"
                        update="tblFacturas" />
                        <p:dataTable id="tblFacturas" styleClass="w100 alcenter"
                            value="#{componenteSocialSDController.listaFacturas}"
                            var="documento" emptyMessage="#{labels['common.table.empty']}">
                            <p:column headerText="Documento">
                                <h:outputText value="#{documento.nombreDocumento}" />
                            </p:column>
                            <p:column headerText="Acciones" styleClass="w70px alCenter">
                                <p:commandButton icon="ui-icon-arrowthick-1-s" styleClass="primary"
                                title="Descargar" ajax="false" immediate="true">
                                <p:fileDownload value="#{componenteSocialSDController.descargarDocumento(documento)}" />
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-trash" title="Eliminar" process="@this" styleClass="primary"
                                    actionListener="#{componenteSocialSDController.eliminarFacturas(documento)}"
                                    update="tblFacturas" />
                            </p:column>
                        </p:dataTable>
                        </p:tab>
                        
                        <p:tab title="14.5 Cartografía">
                        <ui:repeat value="#{componenteSocialSDController.documentosList}" var="documento" varStatus="status">
						    <p:outputLabel value="#{componenteSocialSDController.getNombreDescriptivo(documento)}" />
						    <p:fileUpload 
						        fileUploadListener="#{componenteSocialSDController.uploadDocumento}"
						        sizeLimit="20971520" allowTypes="/(\.|\/)(rar|pdf)$/"
						        uploadLabel="Subir" label="Seleccionar" cancelLabel="Cancelar"
						        invalidFileMessage="Tipo de archivo no válido"
						        invalidSizeMessage="Debe adjuntar un archivo no mayor de 20 MB."
						        multiple="false" mode="advanced" dragDropSupport="false"
						        auto="true" update="label">
						        <f:attribute name="documentoActual" value="#{documento}" />
						    </p:fileUpload>
						   <h:commandLink ajax="false" id="label">
						        <p:fileDownload value="#{componenteSocialSDController.descargarDocumento(documento)}" />
						        <h:outputText value="#{empty documento.nombreDocumento ? 'Documento: (.pdf)' : documento.nombreDocumento}" />
						    </h:commandLink>

						    <br/><br/>
						</ui:repeat>
                        </p:tab>
                    </p:accordionPanel>
                    </p:outputPanel>

                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(13)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w" />
                            <p:commandButton value="Guardar" update=":frmFicha020"
                                        action="#{componenteSocialSDController.guardarDatosAnexos()}"
                                        icon="ui-icon-disk"/>
                            <p:commandButton value="Siguiente"
                                action="#{fichaMineria020Controller.activeIndex(15)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-e" />
                        </t:div>
                    </f:facet>
                </p:panel>

                <p:panel id="idFinRegistro"
                    rendered="#{fichaMineria020Controller.index==15}">
                    <p class="allJustify">#{fichaMineria020Controller.mensaje}</p>
                    <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                        <h:outputLabel for="condiciones"
                            value="He leído y comprendo las condiciones" />

                        <p:selectBooleanCheckbox id="condiciones"
                            value="#{fichaMineria020Controller.condiciones}"
                            required="true">
                            <p:ajax update=":frmFicha020:idFinRegistro" />
                        </p:selectBooleanCheckbox>                      
                    </h:panelGrid>
                    <f:facet name="footer">
                        <t:div styleClass="buttons main">
                            <p:commandButton value="Atrás"
                                action="#{fichaMineria020Controller.activeIndex(14)}"
                                update=":frmFicha020" icon="ui-icon-arrowthick-1-w"/>                           
                            <p:commandButton value="Ver ficha" disabled="#{!fichaMineria020Controller.condiciones}"
                                action="#{fichaMineria020Controller.enviarFicha}"
                                update="@form" />
                        </t:div>
                    </f:facet>
                </p:panel>
                
                <p:panel id="dlgVerFicha" header="VISTA PREVIA"
                    rendered="#{fichaMineria020Controller.index==16}">
                    <t:div styleClass="buttons main">
                        <h:commandButton value="Atrás" update=":frmFicha020" style="background: #28B9F8; border: #28B9F8; width: 125px; height: 40px; font-weight: bold; color: #FFFFFF; margin: 2px;"
                            action="#{fichaMineria020Controller.activeIndex(15)}"
                            icon="ui-icon-arrowthick-1-w" />
                        <h:commandButton value="Finalizar" style="background: #28B9F8; border: #28B9F8; width: 125px; height: 40px; font-weight: bold; color: #FFFFFF; margin: 2px;"
                            action="#{fichaMineria020Controller.finalizar}"/>
                    </t:div>
                    <p:separator></p:separator>
                    <object data="#{fichaMineria020Controller.file}?pfdrid_c=true"
                        height="500px" width="100%">
                        Your browser can't display pdf,
                        <h:outputLink value="#{fichaMineria020Controller.file}">click</h:outputLink>
                        to download pdf instead.
                    </object>
                </p:panel>

                <p:dialog id="idConsultores" widgetVar="idConsultores" width="800">
                    <p:dataTable value="#{fichaMineria020Controller.listaConsultoresMostrar}" var="item" rows="10" paginator="true" paginatorPosition="bottom">
                        <p:column style="width:25%;text-align:center" filterBy="#{item.identificacion}" headerText="Cédula/RUC">
                            <h:outputText value="#{item.identificacion}" />
                        </p:column>
                        
                        <p:column style="width:50%;text-align:center" filterBy="#{item.nombreConsultor}" headerText="Nombres">
                            <h:outputText value="#{item.nombreConsultor}" />
                        </p:column> 
                        
                        <p:column style="width:25%;text-align:center">
                            <p:commandButton value="Seleccionar"
                                action="#{fichaMineria020Controller.seleccionarConsultor(item)}" 
                                update=":frmFicha020:idPanel3" 
                                oncomplete="PF('idConsultores').hide()"/>
                        </p:column>
                    </p:dataTable>
                </p:dialog>

                <p:dialog id="idCoordenadasGeo" widgetVar="idCoordenadasGeo"
                    width="400">
                    <p:panel>
                        <p:panelGrid style="width: 100%;">
                            <p:row>
                                <p:column>
                                    <h:outputText value="Coor. X" />
                                </p:column>
                                <p:column>                                  
                                    <p:inputText value="#{fichaMineria020Controller.coordendas.x}" style="width: 100%;" maxlength="9">
                                        <pe:keyFilter regEx="/[\d\.]/" />
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputText value="Coor. Y" />
                                </p:column>
                                <p:column>
                                    <p:inputText value="#{fichaMineria020Controller.coordendas.y}" style="width: 100%;" maxlength="9">
                                        <pe:keyFilter regEx="/[\d\.]/" />
                                    </p:inputText>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:commandButton value="Adicionar"
                            action="#{fichaMineria020Controller.adicionarCoordenada}"
                            styleClass="primary" update=":frmFicha020:idPanel3"
                            oncomplete="PF('idCoordenadasGeo').hide()" />
                    </p:panel>
                </p:dialog>

                <p:dialog id="idEquipoMultidisiplinario"
                    widgetVar="idEquipoMultidisiplinario" width="600">
                    <p:panelGrid style="width: 100%;">
                        <p:row>
                            <p:column>
                                <h:outputText value="Nombre:" />
                            </p:column>
                            <p:column>
                                <p:inputText
                                    value="#{fichaMineria020Controller.equipoMultidisciplinario.name}"
                                    style="width: 100%;" maxlength="50"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Formación Profesional:" />
                            </p:column>
                            <p:column>
                                <p:inputText
                                    value="#{fichaMineria020Controller.equipoMultidisciplinario.vocationalTraining}"
                                    style="width: 100%;" maxlength="254"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Componente:" />
                            </p:column>
                            <p:column>
                                <p:inputText 
                                    value="#{fichaMineria020Controller.equipoMultidisciplinario.component}"
                                    style="width: 100%;" maxlength="254"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton value="Adicionar"
                        action="#{fichaMineria020Controller.adicionarEquipoMultidis}"
                        styleClass="primary" update=":frmFicha020:panelGridMineria"
                        oncomplete="PF('idEquipoMultidisiplinario').hide()" />
                </p:dialog>
                
                
                <p:dialog id="dlgPuntosFaltantes" header="Puntos Requeridos" modal="true" width="450" visible="#{fichaMineria020Controller.panelErrores}">
                    <p:panel id="pnlPuntosFaltantes">
                    <p:dataTable value="#{fichaMineria020Controller.listaErrores.entrySet().toArray()}" var="entry">
                        <p:column>
                        <h:commandLink value="#{entry.key}" action="#{fichaMineria020Controller.activeIndex(entry.value)}" />
                        </p:column>
                    </p:dataTable>
                    </p:panel>
                </p:dialog>
            </h:form>
            
            
            
            <h:form id="frmDialogMaquinaria">
                <p:dialog id="idMaquinariaEquipo" widgetVar="idMaquinariaEquipo"
                    width="600">
                    <p:panelGrid style="width: 100%;" id="pnlMaquinaria">
                        <p:row>
                            <p:column>
                                <h:outputText
                                    value="Denominación de la maquinaria, equipos y materiales" />
                            </p:column>
                            <p:column>
                                <p:inputText required="true" requiredMessage="Maquinaria, equipos y materiales es Requerido"
                                    value="#{fichaMineria020Controller.maquinariaEquipos.name}"
                                    style="width: 100%;" maxlength="255" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Cantidad(unidades)" />
                            </p:column>
                            <p:column>
                                <p:inputText required="true" requiredMessage="Cantidad(unidades) es Requerido"
                                    value="#{fichaMineria020Controller.maquinariaEquipos.unit}" validatorMessage="Cantidad(unidades) no debe ser Cero"
                                    style="width: 100%;" maxlength="255" onkeypress="return numbersonly(this, event);">
                                    <pe:keyFilter mask="int" />
                                    <f:validateDoubleRange minimum = "1" />
                                </p:inputText>

                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Características" />
                            </p:column>
                            <p:column>
                                <p:inputText required="true" requiredMessage="Características es Requerido"
                                    value="#{fichaMineria020Controller.maquinariaEquipos.characteristics}"
                                    style="width: 100%;" maxlength="255" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Uso / Proceso" />
                            </p:column>
                            <p:column>
                                <p:inputText required="true" requiredMessage="Uso / Proceso es Requerido"
                                    value="#{fichaMineria020Controller.maquinariaEquipos.process}"
                                    style="width: 100%;" maxlength="255" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton value="#{fichaMineria020Controller.edicionMaquinaria ? 'Modificar' : 'Adicionar'}"
                        action="#{fichaMineria020Controller.adicionarMaquinariaEquipo}"
                        styleClass="primary" update=":frmFicha020:tblMaquinaria :frmDialogMaquinaria:pnlMaquinaria"
                        oncomplete="if(!args.validationFailed) PF('idMaquinariaEquipo').hide()" />
                </p:dialog>
            </h:form>
            
            <h:form id="frmDialogInsumo">
                <p:dialog id="idMaterialInsumo" widgetVar="idMaterialInsumo"
                    width="600">
                    <p:panelGrid style="width: 100%;" id="pnlInsumos">
                        <p:row>
                            <p:column width="60%">
                                <h:outputText
                                    value="Material(combustibles, insumos, productos químicos)" />
                            </p:column>
                            <p:column colspan="2">
                                <p:selectOneMenu id="sustanciaQuimica"
                                                 value="#{fichaMineria020Controller.sustanciaQuimicaSeleccionada}"
                                                 style="width:250px" converter="selectItemConverter"  panelStyle="width:180px"
                                                 filter="true" filterMatchMode="startsWith"
                                                 required="true" requiredMessage="Material es Requerido">
                                    <f:selectItem itemLabel="#{labels['common.item.choose']}"
                                                  itemValue="" noSelectionOption="true" />
                                    <f:selectItems itemDescription="#{sustancia.descripcion}"
                                                   var="sustancia"
                                                   value="#{fichaMineria020Controller.sustanciaQuimicasPeligrosas}" />
                                    <p:ajax event="change" process="@this"
                                            update="@(.cssNroCas) frmDialogInsumo:pnlInsumos"></p:ajax>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row rendered="#{fichaMineria020Controller.sustanciaQuimicaSeleccionada.id eq 5187}">
                            <p:column width="60%">
                                <h:outputText
                                    value="Otro material" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText styleClass="cssNroCas" 
                                    required="true" requiredMessage="Otro material es Requerido"
                                    value="#{fichaMineria020Controller.materialInsumo.otraSustancia}" style="width: 100%;" maxlength="255"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Cantidad(unidades)" />
                            </p:column>
                            <p:column>
                                <pe:inputNumber required="true" requiredMessage="Cantidad(unidades) es Requerido"
                                    thousandSeparator="" maxValue="99999.99" validatorMessage="Cantidad(unidades) no debe ser Cero"
                                    value="#{fichaMineria020Controller.materialInsumo.value}">
                                    <f:validateDoubleRange minimum = "0.1" />
                                </pe:inputNumber>
                            </p:column>
                            <p:column>
                                <p:selectOneMenu converter="selectItemConverter"
                                    id="unidadMedida"
                                    value="#{fichaMineria020Controller.unidadSeleccionada}"
                                    required="true" requiredMessage="Medida es Requerido">
                                    <f:selectItem itemLabel="#{labels['common.item.choose']}"
                                        itemValue="" noSelectionOption="true" />
                                    <f:selectItems
                                        value="#{fichaMineria020Controller.listaUnidades}"
                                        var="unidadMedida" itemLabel="#{unidadMedida.siglas}"
                                        itemValue="#{unidadMedida}" />
                                    <p:ajax event="change"
                                        listener="#{fichaMineria020Controller.unidadSelecionada(2)}" />
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Proceso en el que es empleado" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText required="true" requiredMessage="Proceso es Requerido"
                                    value="#{fichaMineria020Controller.materialInsumo.process}" style="width: 100%;" maxlength="255"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="No. CAS /ONU" />
                            </p:column>
                            <p:column colspan="2">
                                <p:outputLabel styleClass="cssNroCas" style="color: black !important;"
                                required="true" requiredMessage="No. CAS /ONU es Requerido" 
                                rendered="#{fichaMineria020Controller.sustanciaQuimicaSeleccionada.id ne 5187}"
                                    value="#{fichaMineria020Controller.sustanciaQuimicaSeleccionada.numeroCas} / #{fichaMineria020Controller.sustanciaQuimicaSeleccionada.codigoOnu}"/>
                                <p:inputText required="true" requiredMessage="No. CAS /ONU es Requerido"
                                    rendered="#{fichaMineria020Controller.sustanciaQuimicaSeleccionada.id eq 5187}"
                                    value="#{fichaMineria020Controller.materialInsumo.casonu}" style="width: 100%;" maxlength="255"/>   
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton value="#{fichaMineria020Controller.edicionInsumo ? 'Modificar' : 'Adicionar'}"
                        action="#{fichaMineria020Controller.adicionarMaterialInsumo}"
                        styleClass="primary" 
                        update=":frmFicha020:tblInsumos :frmDialogInsumo:pnlInsumos"
                        oncomplete="if(!args.validationFailed) PF('idMaterialInsumo').hide()" />
                </p:dialog>
            </h:form>
            
            <h:form id="frmDialogDesechoNoPeligroso">
                <p:dialog id="idDesechosNoPeligrosos"
                    widgetVar="idDesechosNoPeligrosos" width="600">
                    <p:panelGrid style="width: 100%;" id="pnlDesechosNoPeligrosos">
                        <p:row>
                            <p:column width="60%">
                                <h:outputText
                                    value="Tipo de residuo/ desecho (Orgánico, Papel, Cartón, Plástico, Vidrio, etc.)" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText required="true" requiredMessage="Tipo de residuo/ desecho es Requerido"
                                    value="#{fichaMineria020Controller.desechonopeligrosos.wasteType}" style="width: 100%;" maxlength="255"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Cantidad(unidades) " />
                            </p:column>
                            <p:column>
                                <pe:inputNumber required="true" requiredMessage="Cantidad(unidades) es Requerido"
                                    thousandSeparator="" maxValue="99999.99" validatorMessage="Cantidad(unidades) no debe ser Cero"
                                    value="#{fichaMineria020Controller.desechonopeligrosos.value}">
                                    <f:validateDoubleRange minimum = "0.1" />
                                </pe:inputNumber>
                            </p:column>
                            <p:column>
                                <p:selectOneMenu converter="selectItemConverter"
                                    value="#{fichaMineria020Controller.unidadSeleccionada}"
                                    required="true" requiredMessage="Medida es Requerido">
                                    <f:selectItem itemLabel="#{labels['common.item.choose']}"
                                        itemValue="" noSelectionOption="true" />
                                    <f:selectItems
                                        value="#{fichaMineria020Controller.listaUnidadesMasa}"
                                        var="unidadMedida" itemLabel="#{unidadMedida.siglas}"
                                        itemValue="#{unidadMedida}" />
                                    <p:ajax event="change"
                                        listener="#{fichaMineria020Controller.unidadSelecionada(3)}" />
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Reducción, tratamiento " />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText required="true" requiredMessage="Reducción, tratamiento es Requerido"
                                    value="#{fichaMineria020Controller.desechonopeligrosos.treatment}" style="width: 100%;" maxlength="255"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Disposición Final " />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText required="true" requiredMessage="Disposición Final es Requerido"
                                    value="#{fichaMineria020Controller.desechonopeligrosos.finalArrangement}" style="width: 100%;" maxlength="255"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton value="#{fichaMineria020Controller.edicionDesechoNoPeligroso ? 'Modificar' : 'Adicionar'}"
                        action="#{fichaMineria020Controller.adicionarDesechoNoPeligroso}"
                        styleClass="primary" 
                        update=":frmFicha020:tblDesechosNoPeligrosos :frmDialogDesechoNoPeligroso:pnlDesechosNoPeligrosos"
                        oncomplete="if(!args.validationFailed) PF('idDesechosNoPeligrosos').hide()" />
                </p:dialog>
            </h:form>
            
            <h:form id="frmDialog">
                <p:dialog id="idDesechosPeligrosos" widgetVar="idDesechosPeligrosos"
                    width="600">
                    <f:facet name="header">
                        <p:commandButton process="@this" value="Seleccionar"
                                    update=":frmDialog:seleccionarDesecho"
                                    oncomplete="PF('seleccionarDesecho').show()"
                                    styleClass="buttonAddDesecho-comunPage button-small-text toRight field_mrg"
                                    action="#{fichaMineria020Controller.reset(idDesecho)}"
                                    icon="ui-icon-plus" />
                        </f:facet>
                    <p:panelGrid id="idDesechosPeligrososPanel"  styleClass="buttonAddDesecho-comunPageContainer w100 alCenter">
                        
                        <p:row>
                            <p:column>
                                <h:outputText value="Tipo de Desecho" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="desechoTypeWaste" disabled="true" required="true"
                                    value="#{fichaMineria020Controller.desechopeligrosos.wasteType}"
                                    style="width: 100%;" maxlength="25" />
                        <h:inputHidden value="#{fichaMineria020Controller.desechopeligrosos.wasteType}" required="true" 
                            requiredMessage="Tipo de Desecho es Requerido"/>                                    
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column>
                                <h:outputText value="Código (AM NO. 142 o el que lo reemplace)" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="desechoCode" readonly="true" required="true"
                                    value="#{fichaMineria020Controller.desechopeligrosos.code}"
                                    style="width: 100%;" maxlength="25" />
                            </p:column>
                        </p:row>
                        
                        <p:row>
                            <p:column>
                                <h:outputText value="CRTIB" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="desechoCrtib" readonly="true" required="true"
                                    value="#{fichaMineria020Controller.desechopeligrosos.crtib}"
                                    style="width: 100%;" maxlength="255" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Cantidad Generada aproximada /Mes" />
                            </p:column>
                            <p:column>
                                <pe:inputNumber required="true" requiredMessage="Cantidad(unidades) es Requerido"
                                validatorMessage="Cantidad(unidades) no debe ser Cero"
                                    thousandSeparator="" maxValue="99999.99" minValue="0" 
                                    value="#{fichaMineria020Controller.desechopeligrosos.value}">
                                    <f:validateDoubleRange minimum = "0.1" />
                                </pe:inputNumber>
                            </p:column>
                            <p:column>
                                <p:selectOneMenu converter="selectItemConverter"
                                    style="width:250px"
                                    value="#{fichaMineria020Controller.unidadSeleccionada}"
                                    required="true"
                                    requiredMessage="Medida es Requerido">
                                    <f:selectItem itemLabel="#{labels['common.item.choose']}"
                                        itemValue="" noSelectionOption="true" />
                                    <f:selectItems
                                        value="#{fichaMineria020Controller.listaUnidades20}"
                                        var="unidadMedida" itemLabel="#{unidadMedida.siglas}"
                                        itemValue="#{unidadMedida}" />
                                    <p:ajax event="change"
                                        listener="#{fichaMineria020Controller.unidadSelecionada(4)}" />
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Proceso o unidad operativa" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText required="true"
                                    requiredMessage="Proceso o unidad operativa es Requerido"
                                    value="#{fichaMineria020Controller.desechopeligrosos.process}"
                                    style="width: 100%;" maxlength="255" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Tipo de Eliminación o Disposición final" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText required="true"
                                    requiredMessage="Tipo de Eliminación o Disposición final es Requerido"
                                    value="#{fichaMineria020Controller.desechopeligrosos.finalArrangement}"
                                    style="width: 100%;" maxlength="255" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton value="#{fichaMineria020Controller.edicionDesechoPeligroso ? 'Modificar' : 'Adicionar'}"
                        action="#{fichaMineria020Controller.adicionarDesechoPeligroso}"
                        styleClass="primary alRight"
                        update=":frmFicha020:listadesechopeligrosos :frmDialog:idDesechosPeligrososPanel"
                        oncomplete="if(!args.validationFailed) PF('idDesechosPeligrosos').hide();" />
                </p:dialog>
                <p:dialog header="Seleccionar desecho" id="seleccionarDesecho" widgetVar="seleccionarDesecho" modal="true" resizable="false" width="600">
                    <h:panelGrid styleClass="w100 separatorBottom" columns="2" columnClasses="w50, field_mrg">
                        <p:outputLabel for="filtroDesecho" value="Filtro" styleClass="bold" />
                        <h:outputText />
                        <h:panelGroup>
                            <p:inputText id="filtroDesecho" value="#{fichaMineria020Controller.filter}" styleClass="w100" title="#{helps['registro.desecho.filtro']}" />
                            <p:tooltip for="filtroDesecho" escape="false" showDelay="1200" trackMouse="true" />
                        </h:panelGroup>
                        <h:panelGroup>
                            <div class="buttons-inline">
                                <p:commandButton icon="ui-icon-check" styleClass="primary" process="@this filtroDesecho" actionListener="#{fichaMineria020Controller.initRgd()}" update="seleccionarDesecho" oncomplete="PF('seleccionarDesecho').show()" />
                                <p:commandButton icon="ui-icon-refresh" styleClass="secondary" process="@this" actionListener="#{fichaMineria020Controller.reset()}" update="seleccionarDesecho" oncomplete="PF('seleccionarDesecho').show()" />
                            </div>
                        </h:panelGroup>
                    </h:panelGrid>
                
                    <p:tree value="#{fichaMineria020Controller.catalogo}" id="arbolCatalogoDesecho" var="catalogo" dynamic="true" selectionMode="multiple" styleClass="w100 h200px" rendered="#{!fichaMineria020Controller.catalogo.leaf}">
                        <p:treeNode expandedIcon="ui-icon-folder-open" collapsedIcon="ui-icon-folder-collapsed" type="folder">
                            <h:outputText value="#{catalogo}" />
                        </p:treeNode>
                        <p:treeNode icon="ui-icon-document" type="document">
                            <h:outputText value="#{catalogo}" />
                        </p:treeNode>
                        <p:ajax event="expand" update="arbolCatalogoDesecho" listener="#{fichaMineria020Controller.onNodeExpand}" />
                        <p:ajax event="select" update=":frmDialog:arbolCatalogoDesecho :frmDialog:idDesechosPeligrososPanel" listener="#{fichaMineria020Controller.onNodeSelect}" oncomplete="PF('seleccionarDesecho').hide()"/>
                        <p:ajax event="unselect" update=":frmDialog:arbolCatalogoDesecho" listener="#{fichaMineria020Controller.onNodeUnselect}" />
                    </p:tree>
                    <p:panel rendered="#{fichaMineria020Controller.catalogo.leaf}" styleClass="h200px alCenter">
                        <h:outputText value="No se encontraron resultados" styleClass="bold" />
                    </p:panel>
                    <p:separator />
                    <div class="buttons">
                        <p:commandButton type="button" value="Aceptar" onclick="PF('seleccionarDesecho').hide()" />
                    </div>
                </p:dialog>
            </h:form>
            
            
            
            <h:form id="formDetallePlan">
                <p:dialog header="Detalle Plan" id="dlgActividad"
                    widgetVar="dlgActividad" modal="true" resizable="false"
                    rendered="true" draggable="false" width="450">

                    <h:panelGrid id="pnlActividad" columns="2" styleClass="w100"
                        columnClasses="w30,null">
                        <h:outputLabel value="Medidas Propuestas" />
                        <p:inputTextarea rows="3" maxlength="255" style="width: 100%;" styleClass="alJustify"
                            value="#{planManejoAmbiental020Controller.planManejoProyecto.medidasPropuestas}"
                            required="true"
                            requiredMessage="El campo 'Medidas Propuestas' es requerido.">
                        </p:inputTextarea>
                        <h:outputLabel value=" Indicador:" />
                        <p:inputTextarea rows="3" maxlength="255" style="width: 100%;" styleClass="alJustify"
                            value="#{planManejoAmbiental020Controller.planManejoProyecto.indicador}"
                            required="true"
                            requiredMessage="El campo 'Indicador:' es requerido. ">

                        </p:inputTextarea>
                        <h:outputLabel value="
                            Medio de Verificación" />
                        <p:inputTextarea rows="3" maxlength="255" style="width: 100%;" styleClass="alJustify"
                            value="#{planManejoAmbiental020Controller.planManejoProyecto.verificacionMedios}"
                            required="true"
                            requiredMessage="El campo 'Medio de Verificación' es requerido.">

                        </p:inputTextarea>
                        <h:outputLabel value=" Frecuencia" />
                        <p:inputTextarea rows="3" maxlength="255" style="width: 100%;" styleClass="alJustify"
                            value="#{planManejoAmbiental020Controller.planManejoProyecto.frecuencia}"
                            requiredMessage="El campo 'Frecuencia' es requerido."
                            required="true">

                        </p:inputTextarea>
                        <h:outputLabel value="Presupuesto" />
                        <p:inputText
                            value="#{planManejoAmbiental020Controller.planManejoProyecto.calificacion}"
                            style="width: 100%;"
                            converterMessage="Se debe ingresar un número"
                            validatorMessage="El campo Presupuesto' no se encuentra entre los valores permitidos, debe ser mayor que 0 y menor que 999999.99."
                            requiredMessage="El campo 'Presupuesto' es requerido."
                            onkeypress="return numbersonly(this, event, true);" maxlength="9"
                            required="true">
                            <pe:keyFilter mask="num" />
                            <f:validateDoubleRange minimum="1.00" maximum="999999.99" />
                            <f:convertNumber pattern="#0.00" />
                        </p:inputText>
                    </h:panelGrid>
                    <br />
                    <center>
                        <p:commandButton value="Guardar"
                            update=":formDetallePlan:pnlActividad, :frmFicha020:frmPMA020"
                            action="#{planManejoAmbiental020Controller.guardarPlanOtros()}"
                            styleClass="primary" />
                    </center>
                </p:dialog>
            </h:form>
        </div>
    </ui:define>
</ui:composition>