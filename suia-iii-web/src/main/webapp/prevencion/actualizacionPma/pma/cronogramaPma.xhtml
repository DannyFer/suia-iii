<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:controles="http://java.sun.com/jsf/composite/controles-prime"
	  xmlns:mae="http://java.sun.com/jsf/composite/mae-composite"
	  xmlns:hh="http://java.sun.com/jsf/html"
	  xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition
		template="/prevencion/actualizacionPma/default.xhtml">
	<ui:define name="content-act">
		<h:form id="frmDatos">

			<p:panel header="Cronograma valorado del PMA">

				<p:panelGrid columns="1" layout="grid" styleClass="w100"
							 id="panelGridCronograma">
					<f:facet name="header">
						<h:outputText value="Cronograma valorado del PMA" />
					</f:facet>

					<p:dataTable id="tablaPrevencion"
								 value="#{cronogramaPmaActualizacionController.planManejoAmbientalEIA.cronogramaPmaEIA}"
								 var="ide" paginator="true" rows="10" paginatorPosition="bottom"
								 emptyMessage="#{labels['common.table.empty']}"
								 paginatorAlwaysVisible="false">
						<f:facet name="header">
							Cronograma valorado del PMA
						</f:facet>

						<p:columnGroup type="header">
							<p:row>
								<p:column rowspan="2" headerText="Subplan" width="100" />
								<p:column colspan="12" headerText="Meses" width="400" />
								<p:column rowspan="2" headerText="Presupuesto" width="100" />
							</p:row>

							<p:row>
								<p:column headerText="1" />
								<p:column headerText="2" />
								<p:column headerText="3" />
								<p:column headerText="4" />
								<p:column headerText="5" />
								<p:column headerText="6" />
								<p:column headerText="7" />
								<p:column headerText="8" />
								<p:column headerText="9" />
								<p:column headerText="10" />
								<p:column headerText="11" />
								<p:column headerText="12" />
							</p:row>
						</p:columnGroup>




						<p:column>
							<h:outputText value="#{ide.tipoPlanManejoAmbiental.tipo}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes1}" disabled="#{ide.mes1}" />

						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes2}" disabled="#{ide.mes2}" />

						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes3}" disabled="#{ide.mes3}" />

						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes4}" disabled="#{ide.mes4}" />

						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes5}" disabled="#{ide.mes5}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes6}" disabled="#{ide.mes6}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes7}" disabled="#{ide.mes7}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes8}" disabled="#{ide.mes8}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes9}" disabled="#{ide.mes9}"/>
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes10}" disabled="#{ide.mes10}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes11}" disabled="#{ide.mes11}" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{ide.mes12}" disabled="#{ide.mes12}" />
						</p:column>
						<p:column>
							<pe:inputNumber id="presupuesto" maxlength="10"
								requiredMessage="presupuesto es Requerido" maxValue="9999999999.9"
								validatorMessage="presupuesto no debe ser Cero"
								value="#{ide.presupuesto}" styleClass="w100 alRight"
								decimalPlaces="2">
								<f:validateDoubleRange minimum="0.01" />
								<p:ajax process="tablaPrevencion" update="tablaPrevencion" listener="#{cronogramaPmaActualizacionController.totaliza()}"/>
							</pe:inputNumber>
						</p:column>

						<p:columnGroup id="total" type="footer">
							<p:row>
								<p:column colspan="13" styleClass="alRight"
										  footerText="Total:" />
								<p:column footerText="#{cronogramaPmaActualizacionController.total}" />
							</p:row>
						</p:columnGroup>
					</p:dataTable>
				</p:panelGrid>
			</p:panel>

			<div class="buttons main">

				<p:commandButton value="AtrÃ¡s" immediate="true" process="@this"
								 action="/prevencion/actualizacionPma/planMonitoreo/planMonitoreoVer.jsf?id=16&amp;faces-redirect=true"
								 icon="ui-icon-arrowthick-1-w" />

				<p:commandButton value="Guardar" icon="ui-icon-check"
								 update=":frmDatos" process="@this tablaPrevencion"
								 actionListener="#{cronogramaPmaActualizacionController.guardar}" />

				<p:commandButton value="Siguiente" immediate="true" process="@this"
								 action="/prevencion/actualizacionPma/pma/matrizCambiosVer.jsf?id=17&amp;faces-redirect=true"
								 icon="ui-icon-arrowthick-1-e" />

			</div>

		</h:form>
	</ui:define>
</ui:composition>
</html>
